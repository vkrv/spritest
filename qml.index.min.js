"use strict";var log=null,qml=function(){var e={};e._get=function(t){return e[t]};var t=e;t.core||(t.core={}),t.spritest||(t.spritest={}),t.html5||(t.html5={}),t.html5.dist||(t.html5.dist={}),t.controls||(t.controls={}),t.controls.core||(t.controls.core={}),t.controls.mixins||(t.controls.mixins={}),t.controls.web||(t.controls.web={}),t.controls.pure||(t.controls.pure={}),t.controls.input||(t.controls.input={}),t.core.core=function(){var e=t;e._get=function(t){return e[t]},e.core.device=0,e.core.vendor="",e.core.trace={key:!1,focus:!1},e.core.keyCodes={13:"Select",27:"Back",37:"Left",32:"Space",33:"PageUp",34:"PageDown",38:"Up",39:"Right",40:"Down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",112:"Red",113:"Green",114:"Yellow",115:"Blue"},e.core.os=navigator.platform,e.core.userAgent=navigator.userAgent,e.core.language=navigator.language;var i=function(t,i){navigator.userAgent.indexOf(t)<0||(e.core.vendor=i.vendor,e.core.device=i.device,e.core.os=i.os)};e.core.vendor||(i("Blackberry",{vendor:"blackberry",device:2,os:"blackberry"}),i("Android",{vendor:"google",device:2,os:"android"}),i("iPhone",{vendor:"apple",device:2,os:"iOS"}),i("iPad",{vendor:"apple",device:2,os:"iOS"}),i("iPod",{vendor:"apple",device:2,os:"iOS"})),navigator.userAgent.indexOf("Chromium")>=0?e.core.browser="Chromium":navigator.userAgent.indexOf("Chrome")>=0?e.core.browser="Chrome":navigator.userAgent.indexOf("Opera")>=0?e.core.browser="Opera":navigator.userAgent.indexOf("Firefox")>=0?e.core.browser="Firefox":navigator.userAgent.indexOf("Safari")>=0?e.core.browser="Safari":navigator.userAgent.indexOf("MSIE")>=0?e.core.browser="IE":navigator.userAgent.indexOf("YaBrowser")>=0?e.core.browser="Yandex":e.core.browser="",t._backend=function(){return t.html5.html},null===log&&(log=console.log.bind(console)),t.qsTr=function(e,i){return t._context.qsTr.apply(qml._context,arguments)};var r={maroon:"800000",red:"ff0000",orange:"ffA500",yellow:"ffff00",olive:"808000",purple:"800080",fuchsia:"ff00ff",white:"ffffff",lime:"00ff00",green:"008000",navy:"000080",blue:"0000ff",aqua:"00ffff",teal:"008080",black:"000000",silver:"c0c0c0",gray:"080808",transparent:"0000"},o=function(e,t,i,r){try{return e.apply(t,i)}catch(e){r(e)}};e.core.safeCall=function(e,t,i){return function(r){return o(r,e,t,i)}};var n=e.core.CoreObject=function(){},s=n.prototype;s.constructor=e.core.CoreObject,s.__create=function(){},s.__setup=function(){};var a=e.core.Color=function(e){if(Array.isArray(e))return this.r=e[0],this.g=e[1],this.b=e[2],void(this.a=void 0!==e[3]?e[3]:255);if("string"!=typeof e)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+e);var t;if("rgba"==e.substring(0,4)){var i=e.indexOf("("),o=e.lastIndexOf(")");return e=e.substring(i+1,o).split(","),this.r=parseInt(e[0],10),this.g=parseInt(e[1],10),this.b=parseInt(e[2],10),void(this.a=Math.floor(255*parseFloat(e[3])))}var n=e.charAt(0);if(t="#"!=n?r[e]:e.substring(1),!t)return this.r=255,this.g=0,this.b=255,void log("invalid color specification: "+e);var s=t.length;if(3==s||4==s){var a=parseInt(t.charAt(0),16),h=parseInt(t.charAt(1),16),i=parseInt(t.charAt(2),16),c=4==s?parseInt(t.charAt(3),16):15;this.r=a<<4|a,this.g=h<<4|h,this.b=i<<4|i,this.a=c<<4|c}else{if(6!=s&&8!=s)throw new Error("invalid color specification: "+e);this.r=parseInt(t.substring(0,2),16),this.g=parseInt(t.substring(2,4),16),this.b=parseInt(t.substring(4,6),16),this.a=8==s?parseInt(t.substring(6,8),16):255}},h=a.prototype;h.constructor=e.core.Color,h.rgba=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"},e.core.normalizeColor=function(e){return new a(e).rgba()},e.core.mixColor=function(e,t,i){var r=new a(e),o=new a(t),n=function(e,t,i){return Math.floor((t-e)*i+e)};return[n(r.r,o.r,i),n(r.g,o.g,i),n(r.b,o.b,i),n(r.a,o.a,i)]},e.core.DelayedAction=function(e,t){this.context=e,this.action=function(){this._scheduled=!1,t()}.bind(this)},e.core.DelayedAction.prototype.schedule=function(){this._scheduled||(this._scheduled=!0,this.context.scheduleAction(this.action))},e.addProperty=function(e,t,i,r){var o;switch(t){case"enum":case"int":o=function(e){return~~e};break;case"bool":o=function(e){return!!e};break;case"real":o=function(e){return+e};break;case"string":o=function(e){return String(e)};break;default:o=function(e){return e}}if(void 0!==r)r=o(r);else switch(t){case"enum":case"int":r=0;break;case"bool":r=!1;break;case"real":r=0;break;case"string":r="";break;case"array":r=[];break;case"Color":r="#0000";break;default:r=t[0].toUpperCase()==t[0]?null:void 0}var n="__property_"+i,s="__forward_"+i;Object.defineProperty(e,i,{get:function(){var e=this[n];return void 0!==e?void 0!==e.interpolatedValue?e.interpolatedValue:e.value:r},set:function(e){e=o(e);var t=this[n];if(void 0===t){if(e===r)return;t=this[n]={value:r}}var a=this._context.backend,h=this.getAnimation(i);if(h&&t.value!==e){t.frameRequest&&a.cancelAnimationFrame(t.frameRequest);var c=new Date;t.started=c.getTime()+c.getMilliseconds()/1e3;var d=void 0!==t.interpolatedValue?t.interpolatedValue:t.value,l=e,_=this,p=function(){a.cancelAnimationFrame(t.frameRequest),t.frameRequest=void 0,h.complete=function(){},h.running=!1,t.interpolatedValue=void 0,t.started=void 0,_._update(i,l,d)},u=h.duration,g=function(){var e=new Date,r=e.getTime()+e.getMilliseconds()/1e3,n=1*(r-t.started)/u;n>=1?p():(t.interpolatedValue=o(h.interpolate(l,d,n)),_._update(i,t.interpolatedValue,d),t.frameRequest=a.requestAnimationFrame(g))};t.frameRequest=a.requestAnimationFrame(g),h.running=!0,h.complete=p}var v=t.value;if(v!==e){var f=this[s];if(void 0!==f){if(null!==v&&v instanceof Object){var m=v[f];return void(e!==m&&(v[f]=e,this._update(i,e,m)))}e instanceof Object&&this.connectOnChanged(e,f,function(e,t){this._update(i,e,t)}.bind(this))}t.value=e,h&&h.running||e!=r||delete this[n],h||this._update(i,e,v)}},enumerable:!0})},e.addAliasProperty=function(e,t,i,r){var o=i();e.connectOnChanged(o,r,function(i){e._update(t,i)}),Object.defineProperty(e,t,{get:function(){return o[r]},set:function(e){o[r]=e},enumerable:!0})},e.core.createSignal=function(e){return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;++r)i[r]=arguments[r];this.emitWithArgs(e,i)}},e.core.createSignalForwarder=function(e,t){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;++o)r[o]=arguments[o];e.emitWithArgs(t,r)}},e.core.EventBinder=function(e){this.target=e,this.callbacks={},this.enabled=!1},e.core.EventBinder.prototype.on=function(e,t){if(e in this.callbacks)throw new Error("double adding of event ("+e+")");this.callbacks[e]=t,this.enabled&&this.target.on(e,t)},e.core.EventBinder.prototype.constructor=e.core.EventBinder,e.core.EventBinder.prototype.enable=function(e){if(e!=this.enabled){var t=this.target;if(this.enabled=e,e)for(var i in this.callbacks)t.on(i,this.callbacks[i]);else for(var i in this.callbacks)t.removeListener(i,this.callbacks[i])}};var c=function(e,t,i,r){var i="__"+e+"__"+i;i in t?t[i]=function(){try{r.apply(this,arguments)}catch(t){log("error invoking base prototype event "+e+":"+i,t,t.stack)}}:t[i]=r};return e.core._protoOn=function(e,t,i){c("on",e,t,i)},e.core._protoOnChanged=function(e,t,i){c("changed",e,t,i)},e.core._protoOnKey=function(e,t,i){c("key",e,t,i)},e}();var i=t.core.core,r=t.core.CoreObject,o=r.prototype,n=t.core.EventEmitter=function(e,t){r.apply(this,arguments),this._eventHandlers={},this._onConnections=[]},s=n.prototype=Object.create(o);s.constructor=n,s.componentName="core.EventEmitter",s.on=function(e,t){if(""===e)throw new Error("empty listener name");if(e in this._eventHandlers)this._eventHandlers[e].push(t);else{if(this._eventHandlers[e])throw new Error("listener callback added event handler");this._eventHandlers[e]=[t]}},s.discard=function(){for(var e in this._eventHandlers)this.removeAllListeners(e);this._onConnections.forEach(function(e){e[0].removeListener(e[1],e[2])}),this._onConnections=[]},s.emitWithArgs=function(e,i){if(""===e)throw new Error("empty listener name");var r=this["__on__"+e],o=this._eventHandlers[e];if(void 0!==r||void 0!==o){var n=t.core.safeCall(this,i,function(t){log("event/signal "+e+" handler failed:",t,t.stack)});void 0!==r&&n(r),void 0!==o&&o.forEach(n)}},s.connectOn=function(e,t,i){e.on(t,i),this._onConnections.push([e,t,i])},s.removeListener=function(e,t){if(!(e in this._eventHandlers)||void 0===t||null===t||""===e)return void log("invalid removeListener("+e+", "+t+") invocation",(new Error).stack);var i=this._eventHandlers[e],r=i.indexOf(t);r>=0?i.splice(r,1):log("failed to remove listener for",e,"from",this),i.length||this.removeAllListeners(e)},s.emit=function(e){if(""===e)throw new Error("empty listener name");var i=this["__on__"+e],r=this._eventHandlers[e];if(void 0!==i||void 0!==r){for(var o=arguments.length,n=new Array(o-1),s=1;s<o;++s)n[s-1]=arguments[s];var a=t.core.safeCall(this,n,function(t){log("event/signal "+e+" handler failed:",t,t.stack)});void 0!==i&&a(i),void 0!==r&&r.forEach(a)}},s.removeAllListeners=function(e){delete this._eventHandlers[e]};var a=t.core.EventEmitter,h=a.prototype,c=t.core.Object=function(e,t){a.apply(this,arguments),this.parent=e,this.children=[],this._context=e?e._context:null,this._local={},t===!0&&(this._local._delegate=this),this._changedHandlers={},this._changedConnections=[],this._pressedHandlers={},this._animations={},this._updaters={}},d=c.prototype=Object.create(h);d.constructor=c,d.componentName="core.Object",d.addChild=function(e){this.children.push(e)},d.setAnimation=function(e,t){this._animations[e]=t},d.removeOnChanged=function(e,t){if(e in this._changedHandlers){var i=this._changedHandlers[e],r=i.indexOf(t);r>=0?i.splice(r,1):log("failed to remove changed listener for",e,"from",this)}},d.connectOnChanged=function(e,t,i){e.onChanged(t,i),this._changedConnections.push([e,t,i])},d.onChanged=function(e,t){e in this._changedHandlers?this._changedHandlers[e].push(t):this._changedHandlers[e]=[t]},d.discard=function(){this._changedConnections.forEach(function(e){e[0].removeOnChanged(e[1],e[2])}),this._changedConnections=[],this.children.forEach(function(e){e.discard()}),this.children=[],this.parent=null,this._local={},this._changedHandlers={},this._pressedHandlers={},this._animations={},this._updaters={},t.core.EventEmitter.prototype.discard.apply(this)},d._tryFocus=function(){return!1},d._get=function(e){if(e in this)return this[e];for(var t=this;t;){if(e in t._local)return t._local[e];t=t.parent}throw new Error("invalid property requested: '"+e)},d.onPressed=function(e,t){var i;i="Key"!=e?function(e,i){return i.accepted=!0,t(e,i),i.accepted}:t,e in this._pressedHandlers?this._pressedHandlers[e].push(i):this._pressedHandlers[e]=[i]},d._setId=function(e){for(var t=this;t;)t._local[e]=this,t=t.parent},d._update=function(e,i){var r=this["__changed__"+e],o=this._changedHandlers[e];if(void 0!==r||void 0!==o){var n=t.core.safeCall(this,[i],function(t){log("on "+e+" changed callback failed: ",t,t.stack)});void 0!==r&&n(r),void 0!==o&&o.forEach(n)}},d._removeUpdater=function(e,t){var i=this._updaters,r=i[e];void 0!==r&&r.forEach(function(e){var t=e[0],i=e[1],r=e[2];t.removeOnChanged(i,r)}),t?i[e]=t:delete i[e]},d.getAnimation=function(e,t){var i=this._animations[e];return i&&i.enabled()?i:null};var l=t.core.Object,_=l.prototype,p=t.core.Item=function(e,t){if(l.apply(this,arguments),this._topPadding=0,e){if(this.element)throw new Error("double ctor call");this.createElement(this.getTag())}},u=p.prototype=Object.create(_);u.constructor=p,u.componentName="core.Item",u.boxChanged=t.core.createSignal("boxChanged"),u.createElement=function(e){this.element=this._context.createElement(e),this._context.registerStyle(this,e),this.parent.element.append(this.element)},u.registerStyle=function(e,t){e.addRule(t,"position: absolute; visibility: inherit; border-style: solid; border-width: 0px; white-space: nowrap; border-radius: 0px; opacity: 1.0; transform: none; left: 0px; top: 0px; width: 0px; height: 0px;")},u.hasActiveFocus=function(){for(var e=this;e.parent;){if(e.parent.focusedChild!=e)return!1;e=e.parent}return!0},u._focusTree=function(e){this.activeFocus=e,this.focusedChild&&this.focusedChild._focusTree(e)},u._update=function(e,i){switch(e){case"width":this.style("width",i),this.boxChanged();break;case"height":this.style("height",i-this._topPadding),this.boxChanged();break;case"x":case"viewX":var r=this.x+this.viewX;this.style("left",r),this.boxChanged();break;case"y":case"viewY":var o=this.y+this.viewY;this.style("top",o),this.boxChanged();break;case"opacity":this.element&&this.style("opacity",i);break;case"visibleInView":case"visible":this.element&&this.style("visibility",this.visible&&this.visibleInView?"inherit":"hidden");break;case"z":this.style("z-index",i);break;case"radius":this.style("border-radius",i);break;case"clip":this.style("overflow",i?"hidden":"visible")}t.core.Object.prototype._update.apply(this,arguments)},u.getTag=function(){return"div"},u.forceActiveFocus=function(){for(var e=this;e.parent;)e.parent._focusChild(e),e=e.parent},u._tryFocus=function(){if(!this.visible)return!1;if(this.focusedChild&&this.focusedChild._tryFocus())return!0;for(var e=this.children,t=0;t<e.length;++t){var i=e[t];if(i._tryFocus())return this._focusChild(i),!0}return this.focus},u._focusChild=function(e){if(e.parent!==this)throw new Error("invalid object passed as child");this.focusedChild!==e&&(this.focusedChild&&this.focusedChild._focusTree(!1),this.focusedChild=e,this.focusedChild&&this.focusedChild._focusTree(this.hasActiveFocus()))},u._mapCSSAttribute=function(e){return{width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",font:"font"}[e]},u._updateAnimation=function(e,t){if(!this._context.backend.capabilities.csstransitions||t&&!t.cssTransition)return!1;var i=this._mapCSSAttribute(e);if(void 0!==i){if(!t)throw new Error("resetting transition was not implemented");return t._target=e,this.setTransition(i,t)}return!1},u.toScreen=function(){for(var e=this,t=0,i=0,r=this.width,o=this.height;e;)t+=e.x,i+=e.y,"view"in e&&(t+=e.viewX+e.view.content.x,i+=e.viewY+e.view.content.y),e=e.parent;return[t,i,t+r,i+o,t+r/2,i+o/2]},u.setAnimation=function(e,i){this._updateAnimation(e,i)||t.core.Object.prototype.setAnimation.apply(this,arguments)},u.focusChild=function(e){this._propagateFocusToParents(),this._focusChild(e)},u.setTransition=function(e,t){var i=this._context.backend;if(!i.capabilities.csstransitions)return!1;var r=i,o={property:r.getPrefixedName("transition-property"),delay:r.getPrefixedName("transition-delay"),duration:r.getPrefixedName("transition-duration"),timing:r.getPrefixedName("transition-timing-function")};e=r.getPrefixedName(e)||e;var n=this.style(o.property)||[],s=this.style(o.duration)||[],a=this.style(o.timing)||[],h=this.style(o.delay)||[],c=n.indexOf(e);c===-1?(n.push(e),s.push(t.duration+"ms"),a.push(t.easing),h.push(t.delay+"ms")):(s[c]=t.duration+"ms",a[c]=t.easing,h[c]=t.delay+"ms");var d={};return d[o.property]=n,d[o.duration]=s,d[o.timing]=a,d[o.delay]=h,"smartTV"!==this._context.system.os&&"netcast"!==this._context.system.os||(d["transition-property"]=n,d["transition-duration"]=s,d["transition-delay"]=h,d["transition-timing-function"]=a),this.style(d),!0},u.style=function(e,t){var i=this.element;return i?i.style(e,t):void log("WARNING: style skipped:",e,t)},u._updateStyle=function(){var e=this.element;e&&e.updateStyle()},u.addChild=function(e){t.core.Object.prototype.addChild.apply(this,arguments),e._tryFocus()&&e._propagateFocusToParents()},u._propagateFocusToParents=function(){for(var e=this;e.parent&&(!e.parent.focusedChild||!e.parent.focusedChild.visible);)e.parent._focusChild(e),e=e.parent},u.setFocus=function(){this.forceActiveFocus()},u.discard=function(){t.core.Object.prototype.discard.apply(this),this.focusedChild=null,this.element&&this.element.discard()},u._processKey=function(e){if(this._tryFocus(),this.focusedChild&&this.focusedChild.visible&&this.focusedChild._processKey(e))return!0;var i=t.core.keyCodes[e.which||e.keyCode];if(i){var r=t.core.safeCall(this,[i,e],function(e){log("on "+i+" handler failed:",e,e.stack)}),o=this["__key__"+i];if(i in this._pressedHandlers)for(var n=this._pressedHandlers[i],s=n.length-1;s>=0;--s){var a=n[s];if(r(a))return t.core.trace.key&&log("key",i,"handled by",this,(new Error).stack),!0}o&&r(o);var o=this.__key__Key;if("Key"in this._pressedHandlers)for(var n=this._pressedHandlers.Key,s=n.length-1;s>=0;--s){var a=n[s];if(r(a))return t.core.trace.key&&log("key",i,"handled by",this,(new Error).stack),!0}o&&r(o)}else log("unknown key",e.which);return!1},i.addProperty(u,"int","x"),i.addProperty(u,"int","y"),i.addProperty(u,"int","z"),i.addProperty(u,"int","width"),i.addProperty(u,"int","height"),i.addProperty(u,"bool","clip"),i.addProperty(u,"real","radius"),i.addProperty(u,"bool","focus"),i.addProperty(u,"bool","focused"),i.addProperty(u,"bool","activeFocus"),i.addProperty(u,"Item","focusedChild"),i.addProperty(u,"bool","visible",!0),i.addProperty(u,"bool","visibleInView",!0),i.addProperty(u,"bool","recursiveVisible",!0),i.addProperty(u,"real","opacity",1),i.addProperty(u,"Anchors","anchors"),i.addProperty(u,"Effects","effects"),i.addProperty(u,"Transform","transform"),i.addProperty(u,"AnchorLine","left"),i.addProperty(u,"AnchorLine","top"),i.addProperty(u,"AnchorLine","right"),i.addProperty(u,"AnchorLine","bottom"),i.addProperty(u,"AnchorLine","horizontalCenter"),i.addProperty(u,"AnchorLine","verticalCenter"),i.addProperty(u,"int","viewX"),i.addProperty(u,"int","viewY"),t.core._protoOnChanged(u,"visible",function(e){this.recursiveVisible=e&&this.visibleInView&&this.parent.recursiveVisible,e||this.parent._tryFocus()}),t.core._protoOnChanged(u,"visibleInView",function(e){this.recursiveVisible=e&&this.visible&&this.parent.recursiveVisible}),t.core._protoOnChanged(u,"recursiveVisible",function(e){this.children.forEach(function(t){t.recursiveVisible=e&&t.visible&&t.visibleInView})}),u.__create=function(e){_.__create.call(this,e.__base={});var i=new t.core.AnchorLine(this);e.this$right=i,i.__create(e.__closure_this$right={}),this.right=i;var r=new t.core.Anchors(this);e.this$anchors=r,r.__create(e.__closure_this$anchors={}),this.anchors=r;var o=new t.core.AnchorLine(this);e.this$bottom=o,o.__create(e.__closure_this$bottom={}),this.bottom=o;var n=new t.core.AnchorLine(this);e.this$top=n,n.__create(e.__closure_this$top={}),this.top=n;var s=new t.core.AnchorLine(this);e.this$verticalCenter=s,s.__create(e.__closure_this$verticalCenter={}),this.verticalCenter=s;var a=new t.core.Transform(this);e.this$transform=a,a.__create(e.__closure_this$transform={}),this.transform=a;var h=new t.core.AnchorLine(this);e.this$horizontalCenter=h,h.__create(e.__closure_this$horizontalCenter={}),this.horizontalCenter=h;var c=new t.core.Effects(this);e.this$effects=c,c.__create(e.__closure_this$effects={}),this.effects=c;var d=new t.core.AnchorLine(this);e.this$left=d,d.__create(e.__closure_this$left={}),this.left=d},u.__setup=function(e){_.__setup.call(this,e.__base),delete e.__base;var t=e.this$right;t.__setup(e.__closure_this$right),delete e.__closure_this$right,t._removeUpdater("boxIndex"),t.boxIndex=2;var i=e.this$anchors;i.__setup(e.__closure_this$anchors),delete e.__closure_this$anchors;var r=e.this$bottom;r.__setup(e.__closure_this$bottom),delete e.__closure_this$bottom,r._removeUpdater("boxIndex"),r.boxIndex=3;var o=e.this$top;o.__setup(e.__closure_this$top),delete e.__closure_this$top,o._removeUpdater("boxIndex"),o.boxIndex=1;var n=e.this$verticalCenter;n.__setup(e.__closure_this$verticalCenter),delete e.__closure_this$verticalCenter,n._removeUpdater("boxIndex"),n.boxIndex=5;var s=e.this$transform;s.__setup(e.__closure_this$transform),delete e.__closure_this$transform;var a=e.this$horizontalCenter;a.__setup(e.__closure_this$horizontalCenter),delete e.__closure_this$horizontalCenter,a._removeUpdater("boxIndex"),a.boxIndex=4;var h=function(){this.focused=this._get("focusedChild")===this}.bind(this),c=this;this.connectOnChanged(c,"focusedChild",h),this._removeUpdater("focused",[[c,"focusedChild",h]]),h();var d=e.this$effects;d.__setup(e.__closure_this$effects),delete e.__closure_this$effects;var l=e.this$left;l.__setup(e.__closure_this$left),delete e.__closure_this$left,l._removeUpdater("boxIndex"),l.boxIndex=0};var g=t.core.Item,v=g.prototype,f=t.controls.input.BaseInput=function(e,t){g.apply(this,arguments),this._placeholderClass="",this.element.on("focus",function(){this.activeFocus=!0}.bind(this)),this.element.on("blur",function(){this.activeFocus=!1}.bind(this))},m=f.prototype=Object.create(v);m.constructor=f,m.componentName="controls.input.BaseInput",m._update=function(e,i){switch(e){case"type":this.element.dom.type=i;break;case"width":this._updateSize();break;case"height":this._updateSize();break;case"color":this.style("color",i);break;case"backgroundColor":this.style("background",i);break;case"horizontalAlignment":switch(i){case this.AlignLeft:this.style("text-align","left");break;case this.AlignRight:this.style("text-align","right");break;case this.AlignHCenter:this.style("text-align","center");break;case this.AlignJustify:this.style("text-align","justify")}}t.core.Item.prototype._update.apply(this,arguments)},m.getTag=function(){return"input"},m.registerStyle=function(e){e.addRule("input","position: absolute; visibility: inherit; border-style: solid; border-width: 0px; box-sizing: border-box;"),e.addRule("input:focus","outline: none;")},m._updateSize=function(){var e={width:this.width,height:this.height};this.style(e)},i.addProperty(m,"Paddings","paddings"),i.addProperty(m,"Color","color","#000"),i.addProperty(m,"Color","backgroundColor","#fff"),i.addProperty(m,"Font","font"),i.addProperty(m,"Border","border"),i.addProperty(m,"string","type","text"),i.addProperty(m,"PlaceHolder","placeholder"),m.AlignLeft=0,f.AlignLeft=0,m.AlignRight=1,f.AlignRight=1,m.AlignHCenter=2,f.AlignHCenter=2,m.Justify=3,f.Justify=3,i.addProperty(m,"enum","horizontalAlignment"),t.core._protoOnChanged(m,"activeFocus",function(e){e?this.element.dom.select():this.element.dom.blur()}),t.core._protoOnChanged(m,"recursiveVisible",function(e){e||this.element.dom.blur()}),m.__create=function(e){v.__create.call(this,e.__base={});var i=new t.controls.core.PlaceHolder(this);e.this$placeholder=i,i.__create(e.__closure_this$placeholder={}),this.placeholder=i;var r=new t.core.Font(this);e.this$font=r,r.__create(e.__closure_this$font={}),this.font=r;var o=new t.core.Border(this);e.this$border=o,o.__create(e.__closure_this$border={}),this.border=o;var n=new t.controls.core.Paddings(this);e.this$paddings=n,n.__create(e.__closure_this$paddings={}),this.paddings=n},m.__setup=function(e){v.__setup.call(this,e.__base),delete e.__base;var t=e.this$placeholder;t.__setup(e.__closure_this$placeholder),delete e.__closure_this$placeholder;var i=e.this$font;i.__setup(e.__closure_this$font),delete e.__closure_this$font;var r=e.this$border;r.__setup(e.__closure_this$border),delete e.__closure_this$border;var o=e.this$paddings;o.__setup(e.__closure_this$paddings),delete e.__closure_this$paddings};var b=t.controls.input.BaseInput,y=b.prototype,w=t.controls.input.ColorInput=function(e,t){b.apply(this,arguments),this.element.on("input",function(e){this.color=e.target.value}.bind(this))},x=w.prototype=Object.create(y);x.constructor=w,x.componentName="controls.input.ColorInput",x._update=function(e,i){switch(e){case"color":i!=this.element.dom.value&&(this.element.dom.value=i)}t.controls.input.BaseInput.prototype._update.apply(this,arguments)},x.__create=function(e){y.__create.call(this,e.__base={})},x.__setup=function(e){y.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("width"),this.width=80,this._removeUpdater("type"),this.type="color",this._removeUpdater("height"),this.height=32};var C=t.core.Object,$=C.prototype,S=t.controls.input.DropZone=function(e,t){C.apply(this,arguments),this.parent.element.on("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}),this.parent.element.on("drop",function(e){e.stopPropagation(),e.preventDefault(),this.filesAdded(e.dataTransfer.files)}.bind(this))},U=S.prototype=Object.create($);U.constructor=S,U.componentName="controls.input.DropZone",U.filesAdded=t.core.createSignal("filesAdded");var P=t.core.Object,k=P.prototype,A=t.core.System=function(e,i){P.apply(this,arguments);var r=this._context;this.browser=t.core.browser,this.userAgent=t.core.userAgent,this.webkit=this.userAgent.toLowerCase().indexOf("webkit")>=0,this.device=t.core.device,this.vendor=t.core.vendor,this.os=t.core.os,this.language=t.core.language,r.language=this.language.replace("-","_"),this.support3dTransforms=r.backend.capabilities.csstransforms3d||!1,this.supportTransforms=r.backend.capabilities.csstransforms||!1,this.supportTransitions=r.backend.capabilities.csstransitions||!1},O=A.prototype=Object.create(k);O.constructor=A,O.componentName="core.System",O._updateLayoutType=function(){if(this.contextWidth&&this.contextHeight){var e=this.contextWidth;e<=320?this.layoutType=this.MobileS:e<=375?this.layoutType=this.MobileM:e<=425?this.layoutType=this.MobileL:e<=768?this.layoutType=this.Tablet:this.contextWidth<=1024?this.layoutType=this.Laptop:this.contextWidth<=1440?this.layoutType=this.LaptopL:this.layoutType=this.Laptop4K}},i.addProperty(O,"string","userAgent"),i.addProperty(O,"string","language"),i.addProperty(O,"string","browser"),i.addProperty(O,"string","vendor"),i.addProperty(O,"string","os"),i.addProperty(O,"bool","webkit"),i.addProperty(O,"bool","support3dTransforms"),i.addProperty(O,"bool","supportTransforms"),i.addProperty(O,"bool","supportTransitions"),i.addProperty(O,"bool","portrait"),i.addProperty(O,"bool","landscape"),i.addProperty(O,"bool","pageActive",!0),i.addProperty(O,"int","screenWidth"),i.addProperty(O,"int","screenHeight"),O.Desktop=0,A.Desktop=0,O.Tv=1,A.Tv=1,O.Mobile=2,A.Mobile=2,i.addProperty(O,"enum","device"),O.MobileS=0,A.MobileS=0,O.MobileM=1,A.MobileM=1,O.MobileL=2,A.MobileL=2,O.Tablet=3,A.Tablet=3,O.Laptop=4,A.Laptop=4,O.LaptopL=5,A.LaptopL=5,O.Laptop4K=6,A.Laptop4K=6,i.addProperty(O,"enum","layoutType"),t.core._protoOnChanged(O,"contextHeight",function(e){this._updateLayoutType()}),t.core._protoOnChanged(O,"contextWidth",function(e){this._updateLayoutType()}),O.__create=function(e){k.__create.call(this,e.__base={})},O.__setup=function(e){k.__setup.call(this,e.__base),delete e.__base;var t=function(){this.portrait=this._get("parent")._get("width")<this._get("parent")._get("height")}.bind(this),i=this._get("parent");this.connectOnChanged(i,"height",t);var r=this._get("parent");this.connectOnChanged(r,"width",t),this._removeUpdater("portrait",[[i,"height",t],[r,"width",t]]),t();var o=function(){this.landscape=!this._get("portrait")}.bind(this),n=this;this.connectOnChanged(n,"portrait",o),this._removeUpdater("landscape",[[n,"portrait",o]]),o()};var I=t.core.Item,M=I.prototype,H=t.core.BaseLayout=function(e,i){I.apply(this,arguments),this.count=0,this._delayedLayout=new t.core.DelayedAction(this._context,function(){this._processUpdates(),this._layout()}.bind(this))},z=H.prototype=Object.create(M);z.constructor=H,z.componentName="core.BaseLayout",z._update=function(e,t){switch(e){case"spacing":this._delayedLayout.schedule()}qml.core.Item.prototype._update.apply(this,arguments)},z._processUpdates=function(){},i.addProperty(z,"int","count"),i.addProperty(z,"int","spacing"),i.addProperty(z,"int","currentIndex"),i.addProperty(z,"int","contentWidth"),i.addProperty(z,"int","contentHeight"),i.addProperty(z,"bool","keyNavigationWraps"),i.addProperty(z,"bool","handleNavigationKeys");var E=t.core.BaseLayout,F=E.prototype,T=t.core.Layout=function(e,t){E.apply(this,arguments)},L=T.prototype=Object.create(F);L.constructor=T,L.componentName="core.Layout",L.focusPrevChild=function(){var e=0;this.focusedChild&&(e=this.children.indexOf(this.focusedChild)),(this.keyNavigationWraps||0!=e)&&(e=(e+this.children.length-1)%this.children.length,this.currentIndex=e,this.focusChild(this.children[e]))},L.focusNextChild=function(){var e=0;this.focusedChild&&(e=this.children.indexOf(this.focusedChild)),(this.keyNavigationWraps||e!=this.children.length-1)&&(e=(e+1)%this.children.length,this.currentIndex=e,this.focusChild(this.children[e]))},L.__create=function(e){F.__create.call(this,e.__base={})},L.__setup=function(e){F.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("keyNavigationWraps"),this.keyNavigationWraps=!0;var t=function(){this.width=this._get("contentWidth")}.bind(this),i=this;this.connectOnChanged(i,"contentWidth",t),this._removeUpdater("width",[[i,"contentWidth",t]]),t(),this._removeUpdater("handleNavigationKeys"),this.handleNavigationKeys=!0;var r=function(){this.height=this._get("contentHeight")}.bind(this),o=this;this.connectOnChanged(o,"contentHeight",r),this._removeUpdater("height",[[o,"contentHeight",r]]),r(),this._context._onCompleted(function(){this._delayedLayout.schedule()}.bind(this))};var j=t.core.Layout,R=j.prototype,W=t.core.Column=function(e,t){j.apply(this,arguments)},B=W.prototype=Object.create(R);B.constructor=W,B.componentName="core.Column",B.addChild=function(e){if(t.core.Item.prototype.addChild.apply(this,arguments),"height"in e){var i=this._delayedLayout;e.onChanged("height",i.schedule.bind(i)),e.onChanged("recursiveVisible",i.schedule.bind(i)),e.anchors.on("marginsUpdated",i.schedule.bind(i))}},B._layout=function(){if(this.recursiveVisible){var e=this.children,t=0,i=0;this.count=e.length;for(var r=0;r<e.length;++r){var o=e[r];if("height"in o){var n=o.anchors.topMargin||o.anchors.margins,s=o.anchors.bottomMargin||o.anchors.margins,a=o.x+o.width;a>i&&(i=a),o.viewY=t+n,o.recursiveVisible&&(t+=o.height+n+s+this.spacing)}}t>0&&(t-=this.spacing),this.contentWidth=i,this.contentHeight=t}},t.core._protoOnKey(B,"Key",function(e,t){if(!this.handleNavigationKeys)return!1;switch(e){case"Up":return this.focusPrevChild(),!0;case"Down":return this.focusNextChild(),!0}});var N=t.core.Object,V=N.prototype,Y=t.core.Shadow=function(e,t){N.apply(this,arguments)},D=Y.prototype=Object.create(V);D.constructor=Y,D.componentName="core.Shadow",D._getFilterStyle=function(){var e=this.x+"px "+this.y+"px "+this.blur+"px ";return this.spread>0&&(e+=this.spread+"px "),e+=t.core.normalizeColor(this.color)},D._update=function(e,i){this.parent._updateStyle(),t.core.Object.prototype._update.apply(this,arguments)},D._empty=function(){return!(this.x||this.y||this.blur||this.spread)},i.addProperty(D,"real","x"),i.addProperty(D,"real","y"),i.addProperty(D,"Color","color","black"),i.addProperty(D,"real","blur"),i.addProperty(D,"real","spread");var q=t.core.Layout,X=q.prototype,K=t.core.Row=function(e,t){q.apply(this,arguments)},Z=K.prototype=Object.create(X);Z.constructor=K,Z.componentName="core.Row",Z.addChild=function(e){t.core.Item.prototype.addChild.apply(this,arguments);var i=this._delayedLayout;e.onChanged("recursiveVisible",i.schedule.bind(i)),e.onChanged("width",i.schedule.bind(i)),e.onChanged("height",i.schedule.bind(i))},Z._layout=function(){if(this.recursiveVisible){var e=this.children,t=0,i=0;this.count=e.length;for(var r=0;r<e.length;++r){var o=e[r];if("height"in o){var n=o.y+o.height;n>i&&(i=n),o.viewX=t,o.recursiveVisible&&(t+=o.width+this.spacing)}}t>0&&(t-=this.spacing),this.contentWidth=t,this.contentHeight=i}},t.core._protoOnKey(Z,"Key",function(e,t){if(!this.handleNavigationKeys)return!1;switch(e){case"Left":return this.focusPrevChild(),!0;case"Right":return this.focusNextChild(),!0}});var J=t.core.Item,G=J.prototype,Q=t.core.Image=function(e,i){J.apply(this,arguments);
var r=this;this._delayedLoad=new t.core.DelayedAction(this._context,function(){r._load()}),this._context.backend.initImage(this),this.load()},ee=Q.prototype=Object.create(G);ee.constructor=Q,ee.componentName="core.Image",ee._load=function(){this._context.backend.loadImage(this)},ee._update=function(e,i){switch(e){case"width":case"height":case"fillMode":this.load();break;case"source":this.status=i?this.Loading:this.Null,i&&this.load()}t.core.Item.prototype._update.apply(this,arguments)},ee.load=function(){this.status=0===this.source.length?t.core.Image.prototype.Null:t.core.Image.prototype.Loading,this._delayedLoad.schedule()},ee._onError=function(){this.status=this.Error},i.addProperty(ee,"string","source"),i.addProperty(ee,"int","paintedWidth"),i.addProperty(ee,"int","paintedHeight"),ee.Null=0,Q.Null=0,ee.Ready=1,Q.Ready=1,ee.Loading=2,Q.Loading=2,ee.Error=3,Q.Error=3,i.addProperty(ee,"enum","status"),ee.Stretch=0,Q.Stretch=0,ee.PreserveAspectFit=1,Q.PreserveAspectFit=1,ee.PreserveAspectCrop=2,Q.PreserveAspectCrop=2,ee.Tile=3,Q.Tile=3,ee.TileVertically=4,Q.TileVertically=4,ee.TileHorizontally=5,Q.TileHorizontally=5,ee.Pad=6,Q.Pad=6,i.addProperty(ee,"enum","fillMode");var te=t.core.Image,ie=te.prototype,re=t.controls.core.Sprite=function(e,t){te.apply(this,arguments)},oe=re.prototype=Object.create(ie);oe.constructor=re,oe.componentName="controls.core.Sprite",oe._update=function(e,i){switch(e){case"offsetY":case"offsetX":this.style("background-position","-"+this.offsetX+"px -"+this.offsetY+"px")}t.core.Image.prototype._update.apply(this,arguments)},i.addProperty(oe,"int","offsetX"),i.addProperty(oe,"int","offsetY"),oe.__create=function(e){ie.__create.call(this,e.__base={})},oe.__setup=function(e){ie.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("fillMode"),this.fillMode=t.core.Image.prototype.Tile};var ne=t.core.Object,se=ne.prototype,ae=t.controls.core.PlaceHolder=function(e,t){ne.apply(this,arguments),this._placeholderClass=""},he=ae.prototype=Object.create(se);he.constructor=ae,he.componentName="controls.core.PlaceHolder",he._update=function(e,i){switch(e){case"text":this.parent.element.setAttribute("placeholder",i);break;case"color":this.setPlaceholderColor(i);break;case"fontSize":this.setPlaceholderFontSize(i)}t.core.Item.prototype._update.apply(this,arguments)},he.setPlaceholderFontSize=function(e){var t=this.getClass(),i=["::-webkit-input-placeholder","::-moz-placeholder",":-moz-placeholder",":-ms-input-placeholder"];i.forEach(function(i){try{this._context.stylesheet._addRule("."+t+i,"font-size: "+e+"px"),log("added rule for ."+t+i)}catch(e){}}.bind(this))},he.setPlaceholderColor=function(e){var i=this.getClass(),r=new t.core.Color(e).rgba(),o=["::-webkit-input-placeholder","::-moz-placeholder",":-moz-placeholder",":-ms-input-placeholder"];o.forEach(function(e){try{this._context.stylesheet._addRule("."+i+e,"color: "+r),log("added rule for ."+i+e)}catch(e){}}.bind(this))},he.getClass=function(){var e;return this._placeholderClass?e=this._placeholderClass:(e=this._placeholderClass=this._context.stylesheet.allocateClass("input"),this.parent.element.addClass(e)),e},i.addProperty(he,"string","text"),i.addProperty(he,"Color","color"),i.addProperty(he,"Font","font"),he.__create=function(e){se.__create.call(this,e.__base={});var i=new t.core.Font(this);e.this$font=i,i.__create(e.__closure_this$font={}),this.font=i},he.__setup=function(e){se.__setup.call(this,e.__base),delete e.__base;var t=e.this$font;t.__setup(e.__closure_this$font),delete e.__closure_this$font};var ce=t.core.Object,de=ce.prototype,le=t.core.Transform=function(e,t){ce.apply(this,arguments),this._transforms={}},_e=le.prototype=Object.create(de);_e.constructor=le,_e.componentName="core.Transform",_e._update=function(e,i){switch(e){case"perspective":this._transforms.perspective=i+"px";break;case"translateX":this._transforms.translateX=i+"px";break;case"translateY":this._transforms.translateY=i+"px";break;case"translateZ":this._transforms.translateZ=i+"px";break;case"rotateX":this._transforms.rotateX=i+"deg";break;case"rotateY":this._transforms.rotateY=i+"deg";break;case"rotateZ":this._transforms.rotateZ=i+"deg";break;case"rotate":this._transforms.rotate=i+"deg";break;case"scaleX":this._transforms.scaleX=i;break;case"scaleY":this._transforms.scaleY=i;break;case"skewX":this._transforms.skewX=i+"deg";break;case"skewY":this._transforms.skewY=i+"deg"}var r="";for(var o in this._transforms)r+=o,r+="("+this._transforms[o]+") ";this.parent.style("transform",r),t.core.Object.prototype._update.apply(this,arguments)},i.addProperty(_e,"int","perspective"),i.addProperty(_e,"int","translateX"),i.addProperty(_e,"int","translateY"),i.addProperty(_e,"int","translateZ"),i.addProperty(_e,"real","rotateX"),i.addProperty(_e,"real","rotateY"),i.addProperty(_e,"real","rotateZ"),i.addProperty(_e,"real","rotate"),i.addProperty(_e,"real","scaleX"),i.addProperty(_e,"real","scaleY"),i.addProperty(_e,"real","skewX"),i.addProperty(_e,"real","skewY");var pe=t.core.Object,ue=pe.prototype,ge=t.core.Animation=function(e,t){pe.apply(this,arguments),this._disabled=0},ve=ge.prototype=Object.create(ue);ve.constructor=ge,ve.componentName="core.Animation",ve.interpolate=function(e,t,i){return i*(e-t)+t},ve.disable=function(){++this._disabled},ve.enabled=function(){return 0==this._disabled},ve.complete=function(){},ve._update=function(e,i){var r=this.parent;this._target&&r&&r._updateAnimation&&r._updateAnimation(this._target,this.enabled()?this:null)||t.core.Object.prototype._update.apply(this,arguments)},ve.enable=function(){--this._disabled},i.addProperty(ve,"int","delay",0),i.addProperty(ve,"int","duration",200),i.addProperty(ve,"bool","cssTransition",!0),i.addProperty(ve,"bool","running",!1),i.addProperty(ve,"string","easing","ease");var fe=t.controls.input.BaseInput,me=fe.prototype,be=t.controls.input.TextInput=function(e,t){fe.apply(this,arguments),this.element.on("input",function(){this.text=this.element.dom.value}.bind(this))},ye=be.prototype=Object.create(me);ye.constructor=be,ye.componentName="controls.input.TextInput",ye._update=function(e,i){switch(e){case"text":i!=this.element.dom.value&&(this.element.dom.value=i)}t.controls.input.BaseInput.prototype._update.apply(this,arguments)},i.addProperty(ye,"string","text"),i.addProperty(ye,"bool","passwordMode",!1),ye.__create=function(e){me.__create.call(this,e.__base={})},ye.__setup=function(e){me.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("width"),this.width=173;var t=function(){this.type=this._get("passwordMode")?"password":"text"}.bind(this),i=this;this.connectOnChanged(i,"passwordMode",t),this._removeUpdater("type",[[i,"passwordMode",t]]),t(),this._removeUpdater("height"),this.height=20};var we=t.controls.input.BaseInput,xe=we.prototype,Ce=t.controls.input.NumberInput=function(e,t){we.apply(this,arguments),this.element.on("input",function(){this.value=this.element.dom.value}.bind(this))},$e=Ce.prototype=Object.create(xe);$e.constructor=Ce,$e.componentName="controls.input.NumberInput",$e._update=function(e,i){switch(e){case"min":this.element.dom.min=i;break;case"max":this.element.dom.max=i;break;case"step":this.element.dom.step=i;break;case"value":this.element.dom.value=i}t.controls.input.BaseInput.prototype._update.apply(this,arguments)},i.addProperty($e,"float","max"),i.addProperty($e,"float","min"),i.addProperty($e,"float","step"),i.addProperty($e,"float","value"),$e.__create=function(e){xe.__create.call(this,e.__base={})},$e.__setup=function(e){xe.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("width"),this.width=50,this._removeUpdater("type"),this.type="number",this._removeUpdater("horizontalAlignment"),this.horizontalAlignment=t.controls.input.BaseInput.prototype.AlignHCenter,this._removeUpdater("height"),this.height=25};var Se=t.core.Object,Ue=Se.prototype,Pe=t.controls.core.Paddings=function(e,t){Se.apply(this,arguments)},ke=Pe.prototype=Object.create(Ue);ke.constructor=Pe,ke.componentName="controls.core.Paddings",ke._update=function(e,i){switch(e){case"left":this.parent.style("padding-left",i);break;case"right":this.parent.style("padding-right",i);break;case"top":this.parent.style("padding-top",i);break;case"bottom":this.parent.style("padding-bottom",i)}t.core.Object.prototype._update.apply(this,arguments)},i.addProperty(ke,"int","left"),i.addProperty(ke,"int","right"),i.addProperty(ke,"int","top"),i.addProperty(ke,"int","bottom");var Ae=t.core.Item,Oe=Ae.prototype,Ie=t.core.Text=function(e,i){Ae.apply(this,arguments),this._context.backend.initText(this),this._setText(this.text);var r=this;this._delayedUpdateSize=new t.core.DelayedAction(this._context,function(){r._updateSizeImpl()})},Me=Ie.prototype=Object.create(Oe);Me.constructor=Ie,Me.componentName="core.Text",Me.on=function(e,i){this._updateSizeNeeded||"boxChanged"==e&&this._enableSizeUpdate(),t.core.Object.prototype.on.apply(this,arguments)},Me.onChanged=function(e,i){if(!this._updateSizeNeeded)switch(e){case"right":case"width":case"bottom":case"height":case"verticalCenter":case"horizontalCenter":this._enableSizeUpdate()}t.core.Object.prototype.onChanged.apply(this,arguments)},Me._enableSizeUpdate=function(){this._updateSizeNeeded=!0,this._updateSize()},Me._setText=function(e){this.element.setHtml(e)},Me._update=function(e,i){switch(e){case"text":this._setText(i),this._updateSize();break;case"color":this.style("color",t.core.normalizeColor(i));break;case"width":this._updateSize();break;case"verticalAlignment":this.verticalAlignment=i,this._enableSizeUpdate();break;case"horizontalAlignment":switch(i){case this.AlignLeft:this.style("text-align","left");break;case this.AlignRight:this.style("text-align","right");break;case this.AlignHCenter:this.style("text-align","center");break;case this.AlignJustify:this.style("text-align","justify")}break;case"wrapMode":switch(i){case this.NoWrap:this.style({"white-space":"nowrap","word-break":""});break;case this.Wrap:case this.WordWrap:this.style({"white-space":"normal","word-break":""});break;case this.WrapAnywhere:this.style({"white-space":"normal","word-break":"break-all"})}this._updateSize()}t.core.Item.prototype._update.apply(this,arguments)},Me._updateSizeImpl=function(){return 0===this.text.length?(this.paintedWidth=0,void(this.paintedHeight=0)):void this._context.backend.layoutText(this)},Me._updateStyle=function(){this.shadow&&!this.shadow._empty()?this.style("text-shadow",this.shadow._getFilterStyle()):this.style("text-shadow",""),t.core.Item.prototype._updateStyle.apply(this,arguments)},Me._updateSize=function(){this._updateSizeNeeded&&this._delayedUpdateSize.schedule()},i.addProperty(Me,"string","text"),i.addProperty(Me,"color","color"),i.addProperty(Me,"Shadow","shadow"),i.addProperty(Me,"Font","font"),i.addProperty(Me,"int","paintedWidth"),i.addProperty(Me,"int","paintedHeight"),Me.AlignTop=0,Ie.AlignTop=0,Me.AlignBottom=1,Ie.AlignBottom=1,Me.AlignVCenter=2,Ie.AlignVCenter=2,i.addProperty(Me,"enum","verticalAlignment"),Me.AlignLeft=0,Ie.AlignLeft=0,Me.AlignRight=1,Ie.AlignRight=1,Me.AlignHCenter=2,Ie.AlignHCenter=2,Me.AlignJustify=3,Ie.AlignJustify=3,i.addProperty(Me,"enum","horizontalAlignment"),Me.NoWrap=0,Ie.NoWrap=0,Me.WordWrap=1,Ie.WordWrap=1,Me.WrapAnywhere=2,Ie.WrapAnywhere=2,Me.Wrap=3,Ie.Wrap=3,i.addProperty(Me,"enum","wrapMode"),Me.__create=function(e){Oe.__create.call(this,e.__base={});var i=new t.core.Shadow(this);e.this$shadow=i,i.__create(e.__closure_this$shadow={}),this.shadow=i;var r=new t.core.Font(this);e.this$font=r,r.__create(e.__closure_this$font={}),this.font=r},Me.__setup=function(e){Oe.__setup.call(this,e.__base),delete e.__base;var t=function(){this.width=this._get("paintedWidth")}.bind(this),i=this;this.connectOnChanged(i,"paintedWidth",t),this._removeUpdater("width",[[i,"paintedWidth",t]]),t();var r=e.this$shadow;r.__setup(e.__closure_this$shadow),delete e.__closure_this$shadow;var o=e.this$font;o.__setup(e.__closure_this$font),delete e.__closure_this$font;var n=function(){this.height=this._get("paintedHeight")}.bind(this),s=this;this.connectOnChanged(s,"paintedHeight",n),this._removeUpdater("height",[[s,"paintedHeight",n]]),n()};var He=t.core.Text,ze=He.prototype,Ee=t.controls.pure.MaterialIcon=function(e,i){He.apply(this,arguments),t.html5.html.loadExternalStylesheet("https://fonts.googleapis.com/icon?family=Material+Icons")},Fe=Ee.prototype=Object.create(ze);Fe.constructor=Ee,Fe.componentName="controls.pure.MaterialIcon",Fe.__create=function(e){ze.__create.call(this,e.__base={}),i.addAliasProperty(this,"size",function(){return this._get("font")}.bind(this),"pixelSize"),i.addAliasProperty(this,"icon",function(){return this}.bind(this),"text")},Fe.__setup=function(e){ze.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("font.family"),this._get("font").family="Material Icons"};var Te=t.core.Item,Le=Te.prototype,je=t.core.Rectangle=function(e,t){Te.apply(this,arguments)},Re=je.prototype=Object.create(Le);Re.constructor=je,Re.componentName="core.Rectangle",Re._update=function(e,i){switch(e){case"color":this.style("background-color",t.core.normalizeColor(i))}t.core.Item.prototype._update.apply(this,arguments)},Re._mapCSSAttribute=function(e){var i={color:"background-color"}[e];return void 0!==i?i:t.core.Item.prototype._mapCSSAttribute.apply(this,arguments)},i.addProperty(Re,"color","color","#0000"),i.addProperty(Re,"Border","border"),i.addProperty(Re,"Gradient","gradient"),Re.__create=function(e){Le.__create.call(this,e.__base={});var i=new t.core.Border(this);e.this$border=i,i.__create(e.__closure_this$border={}),this.border=i},Re.__setup=function(e){Le.__setup.call(this,e.__base),delete e.__base;var t=e.this$border;t.__setup(e.__closure_this$border),delete e.__closure_this$border};var We=t.core.Rectangle,Be=We.prototype,Ne=t.controls.web.ResizableBox=function(e,t){We.apply(this,arguments)},Ve=Ne.prototype=Object.create(Be);Ve.constructor=Ne,Ve.componentName="controls.web.ResizableBox",i.addProperty(Ve,"int","maxWidth"),i.addProperty(Ve,"int","maxHeight"),i.addProperty(Ve,"int","minHeight",1),i.addProperty(Ve,"int","minWidth",1),Ve.__create=function(e){Be.__create.call(this,e.__base={});var r=new t.core.Item(this);e.this$child0=r,r.__create(e.__closure_this$child0={}),i.addProperty(r,"Mixin","hover"),i.addProperty(r,"Mixin","drag");var o=new t.core.Rectangle(r);e.this_child0$child0=o,o.__create(e.__closure_this_child0$child0={});var n=new t.core.HoverMixin(r);e.this_child0$hover=n,n.__create(e.__closure_this_child0$hover={}),r.hover=n;var s=new t.controls.mixins.DragMixin(r);e.this_child0$drag=s,s.__create(e.__closure_this_child0$drag={}),r.drag=s,r._setId("resizer"),this._setId("resizable")},Ve.__setup=function(e){Be.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("color"),this.color="#BBDEFB",this._removeUpdater("border.width"),this._get("border").width=1,this._removeUpdater("border.color"),this._get("border").color="gray";var t=e.this$child0;t.__setup(e.__closure_this$child0),delete e.__closure_this$child0;var i=e.this_child0$hover;i.__setup(e.__closure_this_child0$hover),delete e.__closure_this_child0$hover,i._removeUpdater("cursor"),i.cursor="se-resize",t._removeUpdater("height"),t.height=0,t._removeUpdater("width"),t.width=0;var r=e.this_child0$drag;r.__setup(e.__closure_this_child0$drag),delete e.__closure_this_child0$drag;var o=function(){r.top=this._get("parent")._get("parent")._get("minHeight")}.bind(r),n=r._get("parent")._get("parent");r.connectOnChanged(n,"minHeight",o),r._removeUpdater("top",[[n,"minHeight",o]]),o();var s=function(){r.right=this._get("parent")._get("parent")._get("maxWidth")}.bind(r),a=r._get("parent")._get("parent");r.connectOnChanged(a,"maxWidth",s),r._removeUpdater("right",[[a,"maxWidth",s]]),s();var h=function(){r.left=this._get("parent")._get("parent")._get("minWidth")}.bind(r),c=r._get("parent")._get("parent");r.connectOnChanged(c,"minWidth",h),r._removeUpdater("left",[[c,"minWidth",h]]),h();var d=function(){r.bottom=this._get("parent")._get("parent")._get("maxHeight")}.bind(r),l=r._get("parent")._get("parent");r.connectOnChanged(l,"maxHeight",d),r._removeUpdater("bottom",[[l,"maxHeight",d]]),d();var _=function(){t.y=this._get("parent")._get("height")}.bind(t),p=t._get("parent");t.connectOnChanged(p,"height",_),t._removeUpdater("y",[[p,"height",_]]),_();var u=function(){t.x=this._get("parent")._get("width")}.bind(t),g=t._get("parent");t.connectOnChanged(g,"width",u),t._removeUpdater("x",[[g,"width",u]]),u(),t._removeUpdater("z"),t.z=1,t.onChanged("x",function(e){this.parent.width=e}.bind(t)),t.onChanged("y",function(e){this.parent.height=e}.bind(t));var v=e.this_child0$child0;v.__setup(e.__closure_this_child0$child0),delete e.__closure_this_child0$child0;var f=function(){v.opacity=this._get("parent")._get("hover")._get("value")?.9:.2}.bind(v),m=v._get("parent")._get("hover");v.connectOnChanged(m,"value",f),v._removeUpdater("opacity",[[m,"value",f]]),f(),v._removeUpdater("color"),v.color="#607D8B",v._removeUpdater("height"),v.height=24,v._removeUpdater("width"),v.width=24,v._removeUpdater("radius"),v.radius=12,v._removeUpdater("y"),v.y=-15,v._removeUpdater("x"),v.x=-15,t.addChild(v),this.addChild(t)};var Ye=t.core.Object,De=Ye.prototype,qe=t.core.Font=function(e,t){Ye.apply(this,arguments)},Xe=qe.prototype=Object.create(De);Xe.constructor=qe,Xe.componentName="core.Font",Xe._update=function(e,i){switch(e){case"family":this.parent.style("font-family",i),this.parent._updateSize();break;case"pointSize":this.parent.style("font-size",i+"pt"),this.parent._updateSize();break;case"pixelSize":this.parent.style("font-size",i+"px"),this.parent._updateSize();break;case"italic":this.parent.style("font-style",i?"italic":"normal"),this.parent._updateSize();break;case"bold":this.parent.style("font-weight",i?"bold":"normal"),this.parent._updateSize();break;case"underline":this.parent.style("text-decoration",i?"underline":""),this.parent._updateSize();break;case"lineHeight":this.parent.style("line-height",i+"px"),this.parent._updateSize();break;case"weight":this.parent.style("font-weight",i),this.parent._updateSize()}t.core.Object.prototype._update.apply(this,arguments)},i.addProperty(Xe,"string","family"),i.addProperty(Xe,"bool","italic"),i.addProperty(Xe,"bool","bold"),i.addProperty(Xe,"bool","underline"),i.addProperty(Xe,"int","pixelSize"),i.addProperty(Xe,"int","pointSize"),i.addProperty(Xe,"int","lineHeight"),i.addProperty(Xe,"int","weight");var Ke=t.controls.pure.MaterialIcon,Ze=Ke.prototype,Je=t.spritest.MaterialButton=function(e,t){Ke.apply(this,arguments)},Ge=Je.prototype=Object.create(Ze);Ge.constructor=Je,Ge.componentName="spritest.MaterialButton",Ge.__create=function(e){Ze.__create.call(this,e.__base={});var i=new t.core.HoverMixin(this);e.this$child0=i,i.__create(e.__closure_this$child0={})},Ge.__setup=function(e){Ze.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("color"),this.color="#FFC107";var t=function(){this.width=this._get("paintedWidth")}.bind(this),i=this;this.connectOnChanged(i,"paintedWidth",t),this._removeUpdater("width",[[i,"paintedWidth",t]]),t();var r=function(){this.height=this._get("paintedHeight")}.bind(this),o=this;this.connectOnChanged(o,"paintedHeight",r),this._removeUpdater("height",[[o,"paintedHeight",r]]),r(),this._removeUpdater("size"),this.size=22,this._context._onCompleted(function(){this.style("user-select","none")}.bind(this));var n=e.this$child0;n.__setup(e.__closure_this$child0),delete e.__closure_this$child0,n._removeUpdater("cursor"),n.cursor="pointer",this.addChild(n)};var Qe=t.core.Object,et=Qe.prototype,tt=t.core.Border=function(e,t){Qe.apply(this,arguments)},it=tt.prototype=Object.create(et);it.constructor=tt,it.componentName="core.Border",it._update=function(e,i){switch(e){case"width":this.parent.style({"border-width":i,"margin-left":-i,"margin-top":-i});break;case"color":this.parent.style("border-color",t.core.normalizeColor(i));break;case"style":this.parent.style("border-style",i)}t.core.Object.prototype._update.apply(this,arguments)},i.addProperty(it,"int","width"),i.addProperty(it,"color","color"),i.addProperty(it,"string","style"),i.addProperty(it,"BorderSide","left"),i.addProperty(it,"BorderSide","right"),i.addProperty(it,"BorderSide","top"),i.addProperty(it,"BorderSide","bottom"),it.__create=function(e){et.__create.call(this,e.__base={});var i=new t.core.BorderSide(this);e.this$top=i,i.__create(e.__closure_this$top={}),this.top=i;var r=new t.core.BorderSide(this);e.this$right=r,r.__create(e.__closure_this$right={}),this.right=r;var o=new t.core.BorderSide(this);e.this$bottom=o,o.__create(e.__closure_this$bottom={}),this.bottom=o;var n=new t.core.BorderSide(this);e.this$left=n,n.__create(e.__closure_this$left={}),this.left=n},it.__setup=function(e){et.__setup.call(this,e.__base),delete e.__base;var t=e.this$top;t.__setup(e.__closure_this$top),delete e.__closure_this$top,t._removeUpdater("name"),t.name="top";var i=e.this$right;i.__setup(e.__closure_this$right),delete e.__closure_this$right,i._removeUpdater("name"),i.name="right";var r=e.this$bottom;r.__setup(e.__closure_this$bottom),delete e.__closure_this$bottom,r._removeUpdater("name"),r.name="bottom";var o=e.this$left;o.__setup(e.__closure_this$left),delete e.__closure_this$left,o._removeUpdater("name"),o.name="left"};var rt=t.core.Object,ot=rt.prototype,nt=t.core.BorderSide=function(e,t){rt.apply(this,arguments)},st=nt.prototype=Object.create(ot);st.constructor=nt,st.componentName="core.BorderSide",st._update=function(e,i){switch(e){case"width":this._updateStyle();break;case"color":this._updateStyle()}t.core.Object.prototype._update.apply(this,arguments)},st._updateStyle=function(){if(this.parent&&this.parent.parent){var e=this.parent.parent;if(e){var i="border-"+this.name;this.width?e.style(i,this.width+"px solid "+t.core.normalizeColor(this.color)):e.style(i,"")}}},i.addProperty(st,"string","name"),i.addProperty(st,"int","width"),i.addProperty(st,"color","color");var at=t.controls.input.BaseInput,ht=at.prototype,ct=t.controls.input.FileInput=function(e,t){at.apply(this,arguments);var i=this;this.element.on("change",function(e){i.value=e.target.value}.bind(this))},dt=ct.prototype=Object.create(ht);dt.constructor=ct,dt.componentName="controls.input.FileInput",dt._update=function(e,i){switch(e){case"filter":this.element.dom.accept=i}t.controls.input.BaseInput.prototype._update.apply(this,arguments)},i.addProperty(dt,"string","value"),i.addProperty(dt,"string","filter"),dt.__create=function(e){ht.__create.call(this,e.__base={})},dt.__setup=function(e){ht.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("width"),this.width=250,this._removeUpdater("type"),this.type="file",this._removeUpdater("height"),this.height=30};var lt=t.core.Image,_t=lt.prototype,pt=t.controls.mixins.ImageMixin=function(e,t){lt.apply(this,arguments)},ut=pt.prototype=Object.create(_t);ut.constructor=pt,ut.componentName="controls.mixins.ImageMixin",ut.createElement=function(e){this.element=this.parent.element};var gt=t.core.Object,vt=gt.prototype,ft=t.core.Effects=function(e,t){gt.apply(this,arguments)},mt=ft.prototype=Object.create(vt);mt.constructor=ft,mt.componentName="core.Effects",mt._getFilterStyle=function(){var e=[];return this._addStyle(e,"blur","blur","px"),this._addStyle(e,"grayscale"),this._addStyle(e,"sepia"),this._addStyle(e,"brightness"),this._addStyle(e,"contrast"),this._addStyle(e,"hueRotate","hue-rotate","deg"),this._addStyle(e,"invert"),this._addStyle(e,"saturate"),e},mt._update=function(e,i){this._updateStyle(),t.core.Object.prototype._update.apply(this,arguments)},mt._addStyle=function(e,t,i,r){var o=this[t];o&&e.push((i||t)+"("+o+(r||"")+") ")},mt._updateStyle=function(){var e=this._getFilterStyle().join(""),t=this.parent,i={},r=!1;e.length>0&&(i["-webkit-filter"]=e,i.filter=e,r=!0),this.shadow&&!this.shadow._empty()&&(i["box-shadow"]=this.shadow._getFilterStyle(),r=!0),r&&t.style(i)},i.addProperty(mt,"real","blur"),i.addProperty(mt,"real","grayscale"),i.addProperty(mt,"real","sepia"),i.addProperty(mt,"real","brightness"),i.addProperty(mt,"real","contrast"),i.addProperty(mt,"real","hueRotate"),i.addProperty(mt,"real","invert"),i.addProperty(mt,"real","saturate"),i.addProperty(mt,"Shadow","shadow"),mt.__create=function(e){vt.__create.call(this,e.__base={});var i=new t.core.Shadow(this);e.this$shadow=i,i.__create(e.__closure_this$shadow={}),this.shadow=i},mt.__setup=function(e){vt.__setup.call(this,e.__base),delete e.__base;var t=e.this$shadow;t.__setup(e.__closure_this$shadow),delete e.__closure_this$shadow};var bt=t.core.Object,yt=bt.prototype,wt=t.controls.mixins.DragMixin=function(e,t){bt.apply(this,arguments),this.element=this.parent.element,this._bindPressed(this.enabled)},xt=wt.prototype=Object.create(yt);xt.constructor=wt,xt.componentName="controls.mixins.DragMixin",xt._bindPressed=function(e){e&&!this._dmPressBinder&&(this._dmPressBinder=new t.core.EventBinder(this.element),this._dmPressBinder.on("mousedown",this._downHandler.bind(this)),this._dmPressBinder.on("touchstart",this._downHandler.bind(this))),this._dmPressBinder&&this._dmPressBinder.enable(e)},xt._downHandler=function(e){e.preventDefault(),this.pressed=!0,e.changedTouches&&(e=e.changedTouches[0]),this._startX=e.clientX-this.parent.x,this._startY=e.clientY-this.parent.y,this._dmMoveBinder||(this._dmMoveBinder=new t.core.EventBinder(this._get("context").window),this._dmMoveBinder.on("mousemove",this._moveHandler.bind(this)),this._dmMoveBinder.on("touchmove",this._moveHandler.bind(this)),this._dmMoveBinder.on("mouseup",function(){this.pressed=!1,this._dmMoveBinder.enable(!1)}.bind(this)),this._dmMoveBinder.on("touchend",function(){this.pressed=!1,this._dmMoveBinder.enable(!1)}.bind(this))),this._dmMoveBinder.enable(!0)},xt._moveHandler=function(e){if(e.preventDefault(),e.changedTouches&&(e=e.changedTouches[0]),this.direction!==this.Horizontal){var t=e.clientY,i=this._startY,r=this.top,o=this.bottom;o&&t-i>o?this.parent.y=o:r&&t-i<r?this.parent.y=r:(this.moved=!0,this.parent.y=t-i)}if(this.direction!==this.Vertical){var n=e.clientX,s=this._startX,a=this.left,h=this.right;h&&n-s>h?this.parent.x=h:a&&n-s<a?this.parent.x=a:(this.moved=!0,this.parent.x=n-s)}},i.addProperty(xt,"bool","moved"),i.addProperty(xt,"bool","pressed"),i.addProperty(xt,"bool","enabled",!0),i.addProperty(xt,"int","top"),i.addProperty(xt,"int","left"),i.addProperty(xt,"int","right"),i.addProperty(xt,"int","bottom"),xt.Any=0,wt.Any=0,xt.Vertical=1,wt.Vertical=1,xt.Horizontal=2,wt.Horizontal=2,i.addProperty(xt,"enum","direction"),t.core._protoOnChanged(xt,"enabled",function(e){this._bindPressed(e)});var Ct=t.core.Object,$t=Ct.prototype,St=t.core.HoverMixin=function(e,t){Ct.apply(this,arguments),this.element=this.parent.element,this.parent.style("cursor",this.cursor),this._bindClick(this.clickable),this._bindHover(this.enabled),this._bindActiveHover(this.activeHoverEnabled)},Ut=St.prototype=Object.create($t);Ut.constructor=St,Ut.componentName="core.HoverMixin",Ut._bindActiveHover=function(e){e&&!this._hmActiveHoverBinder&&(this._hmActiveHoverBinder=new t.core.EventBinder(this.parent.element),this._hmActiveHoverBinder.on("mouseover",function(){this.activeHover=!0}.bind(this)),this._hmActiveHoverBinder.on("mouseout",function(){this.activeHover=!1}.bind(this))),this._hmActiveHoverBinder&&this._hmActiveHoverBinder.enable(e)},Ut._bindClick=function(e){e&&!this._hmClickBinder&&(this._hmClickBinder=new t.core.EventBinder(this.element),this._hmClickBinder.on("click",t.core.createSignalForwarder(this.parent,"clicked").bind(this))),this._hmClickBinder&&this._hmClickBinder.enable(e)},Ut._bindHover=function(e){e&&!this._hmHoverBinder&&(this._hmHoverBinder=new t.core.EventBinder(this.parent.element),this._hmHoverBinder.on("mouseenter",function(){this.value=!0}.bind(this)),this._hmHoverBinder.on("mouseleave",function(){this.value=!1}.bind(this))),this._hmHoverBinder&&this._hmHoverBinder.enable(e)},i.addProperty(Ut,"bool","enabled",!0),i.addProperty(Ut,"bool","clickable",!0),i.addProperty(Ut,"bool","activeHoverEnabled",!1),i.addProperty(Ut,"bool","value"),i.addProperty(Ut,"bool","activeHover",!1),i.addProperty(Ut,"string","cursor"),t.core._protoOnChanged(Ut,"clickable",function(e){this._bindClick(e)}),t.core._protoOnChanged(Ut,"cursor",function(e){this.parent.style("cursor",e)}),t.core._protoOnChanged(Ut,"activeHoverEnabled",function(e){this._bindActiveHover(e)}),t.core._protoOnChanged(Ut,"enabled",function(e){this._bindHover(e)});var Pt=t.core.Item,kt=Pt.prototype,At=t.core.Context=function(e,i){Pt.apply(this,arguments),this.options=arguments[2],this.l10n=this.options.l10n||{},this._local.context=this,this._prefix=this.options.prefix,this._context=this,this._started=!1,this._completed=!1,this._completedHandlers=[],this._delayedActions=[],this._stylesRegistered={},this.backend=t._backend()},Ot=At.prototype=Object.create(kt);Ot.constructor=At,Ot.componentName="core.Context",Ot.qsTr=function(e){var t=arguments,i=this.language,r=this.l10n[i]||{},o=r[e]||{};for(var n in o){e=o[n];break}return e.replace(/%(\d+)/,function(e,i){return t[i]})},Ot.createElement=function(e){var t=this.backend.createElement(this,e);return this._prefix&&t.addClass(this.getClass("core-item")),t},Ot.registerStyle=function(e,t){t in this._stylesRegistered||(e.registerStyle(this.stylesheet,t),this._stylesRegistered[t]=!0)},Ot.run=function(){this.backend.run(this)},Ot.init=function(){log("Context: initializing..."),new this.backend.init(this)},Ot._run=function(){log("Context: calling completed()"),this._complete(),this.style("visibility","visible")},Ot.start=function(e){var t={};return e.__create(t),e.__setup(t),t=void 0,log("Context: created instance"),this._started=!0,log("Context: signalling layout"),this.boxChanged(),log("Context: done"),e},Ot._complete=function(){if(this._started&&!this._runningComplete){this._completed=!0,this._runningComplete=!0;var e=t.core.safeCall(this,[],function(e){log("onCompleted failed:",e,e.stack)});do{for(;this._completedHandlers.length;){var i=this._completedHandlers;this._completedHandlers=[],i.forEach(e)}this._processActions()}while(this._completedHandlers.length);this._runningComplete=!1}},Ot.getClass=function(e){return this._prefix+e},Ot._update=function(e,i){switch(e){case"fullscreen":i?this.backend.enterFullscreenMode(this.element):this.backend.exitFullscreenMode()}t.core.Item.prototype._update.apply(this,arguments)},Ot.scheduleAction=function(e){this._delayedActions.push(e),this._completed&&void 0===this._delayedTimeout&&(this._delayedTimeout=setTimeout(this._processActions.bind(this),0))},Ot._onCompleted=function(e){this._completedHandlers.push(e)},Ot._processActions=function(){for(var e=t.core.safeCall(this,[],function(e){log("exception in delayed action",e,e.stack)});this._delayedActions.length;){var i=this._delayedActions;this._delayedActions=[],i.forEach(e)}this._delayedTimeout=void 0},i.addProperty(Ot,"bool","fullscreen"),i.addProperty(Ot,"int","scrollY"),i.addProperty(Ot,"Stylesheet","stylesheet"),i.addProperty(Ot,"System","system"),i.addProperty(Ot,"Location","location"),i.addProperty(Ot,"Orientation","orientation"),i.addProperty(Ot,"string","language"),Ot.__create=function(e){kt.__create.call(this,e.__base={});var i=new t.html5.Orientation(this);e.this$orientation=i,i.__create(e.__closure_this$orientation={}),this.orientation=i;var r=new t.html5.Stylesheet(this);e.this$stylesheet=r,r.__create(e.__closure_this$stylesheet={}),this.stylesheet=r;var o=new t.core.System(this);e.this$system=o,o.__create(e.__closure_this$system={}),this.system=o;var n=new t.html5.Location(this);e.this$location=n,n.__create(e.__closure_this$location={}),this.location=n},Ot.__setup=function(e){kt.__setup.call(this,e.__base),delete e.__base;var t=e.this$orientation;t.__setup(e.__closure_this$orientation),delete e.__closure_this$orientation;var i=e.this$stylesheet;i.__setup(e.__closure_this$stylesheet),delete e.__closure_this$stylesheet;var r=e.this$system;r.__setup(e.__closure_this$system),delete e.__closure_this$system;var o=e.this$location;
o.__setup(e.__closure_this$location),delete e.__closure_this$location};var It=t.core.Item,Mt=It.prototype,Ht=t.spritest.InputWrapper=function(e,t){It.apply(this,arguments)},zt=Ht.prototype=Object.create(Mt);zt.constructor=Ht,zt.componentName="spritest.InputWrapper",i.addProperty(zt,"string","text"),zt.__create=function(e){Mt.__create.call(this,e.__base={});var i=new t.core.Text(this);e.this$child0=i,i.__create(e.__closure_this$child0={}),i._setId("decsText")},zt.__setup=function(e){Mt.__setup.call(this,e.__base),delete e.__base;var i=function(){this.width=1*this._get("parent")._get("width")}.bind(this),r=this._get("parent");this.connectOnChanged(r,"width",i),this._removeUpdater("width",[[r,"width",i]]),i();var o=function(){this.height=this._get("decsText")._get("height")+12}.bind(this),n=this._get("decsText");this.connectOnChanged(n,"height",o),this._removeUpdater("height",[[n,"height",o]]),o();var s=e.this$child0;s.__setup(e.__closure_this$child0),delete e.__closure_this$child0,s._removeUpdater("font.weight"),s._get("font").weight=300;var a=function(){s.width=1*this._get("parent")._get("width")-70}.bind(s),h=s._get("parent");s.connectOnChanged(h,"width",a),s._removeUpdater("width",[[h,"width",a]]),a(),s._removeUpdater("color"),s.color="#626262";var c=function(){s.text=this._get("parent")._get("text")}.bind(s),d=s._get("parent");s.connectOnChanged(d,"text",c),s._removeUpdater("text",[[d,"text",c]]),c(),s._removeUpdater("font.pixelSize"),s._get("font").pixelSize=20,s._removeUpdater("wrapMode"),s.wrapMode=t.core.Text.prototype.WordWrap,s._removeUpdater("y"),s.y=4,s._removeUpdater("x"),s.x=70,this.addChild(s)};var Et=t.core.Text,Ft=Et.prototype,Tt=t.controls.mixins.TextMixin=function(e,t){Et.apply(this,arguments),e.__forward_text="text"},Lt=Tt.prototype=Object.create(Ft);Lt.constructor=Tt,Lt.componentName="controls.mixins.TextMixin",Lt.createElement=function(e){this.element=this.parent.element},Lt.__create=function(e){Ft.__create.call(this,e.__base={})},Lt.__setup=function(e){Ft.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("horizontalAlignment"),this.horizontalAlignment=t.core.Text.prototype.AlignHCenter,this._removeUpdater("verticalAlignment"),this.verticalAlignment=t.core.Text.prototype.AlignVCenter;var i=function(){this._get("anchors").fill=this._get("parent")}.bind(this),r=this;this.connectOnChanged(r,"parent",i),this._removeUpdater("anchors.fill",[[r,"parent",i]]),i()};var jt=t.core.Object,Rt=jt.prototype,Wt=t.core.Anchors=function(e,t){jt.apply(this,arguments)},Bt=Wt.prototype=Object.create(Rt);Bt.constructor=Wt,Bt.componentName="core.Anchors",Bt.marginsUpdated=t.core.createSignal("marginsUpdated"),Bt._updateBottom=function(){var e=this,t=e.parent,i=t.parent,r=i.toScreen(),o=e.bottom.toScreen(),n=e.topMargin||e.margins,s=e.bottomMargin||e.margins;if(e.top){var a=e.top.toScreen();t.height=o-a-s-n}t.y=o-r[1]-s-t.height-t.viewY},Bt._updateTop=function(){var e=this,t=e.parent,i=t.parent,r=i.toScreen(),o=e.top.toScreen(),n=e.topMargin||e.margins,s=e.bottomMargin||e.margins;if(t.y=o+n-r[1]-t.viewY,e.bottom){var a=e.bottom.toScreen();t.height=a-o-s-n}},Bt._updateRight=function(){var e=this,t=e.parent,i=t.parent,r=i.toScreen(),o=e.right.toScreen(),n=e.leftMargin||e.margins,s=e.rightMargin||e.margins;if(e.left){var a=e.left.toScreen();t.width=o-a-s-n}t.x=o-r[0]-s-t.width-t.viewX},Bt._updateVCenter=function(){var e=this,t=e.parent,i=t.parent,r=i.toScreen(),o=e.verticalCenter.toScreen(),n=e.topMargin||e.margins,s=e.bottomMargin||e.margins;t.y=o-t.height/2-r[1]+n-s-t.viewY},Bt._updateLeft=function(){var e=this,t=e.parent,i=t.parent,r=i.toScreen(),o=e.left.toScreen(),n=e.leftMargin||e.margins;if(t.x=o+n-r[0]-t.viewX,e.right){var s=e.right.toScreen(),a=e.rightMargin||e.margins;t.width=s-o-a-n}},Bt._updateHCenter=function(){var e=this,t=e.parent,i=t.parent,r=i.toScreen(),o=e.horizontalCenter.toScreen(),n=e.leftMargin||e.margins,s=e.rightMargin||e.margins;t.x=o-t.width/2-r[0]+n-s-t.viewX},Bt._update=function(e){var i=this.parent,r=this;switch(e){case"left":i._removeUpdater("x"),this.right&&i._removeUpdater("width");var o=this._updateLeft.bind(this);o(),i.connectOn(r.left.parent,"boxChanged",o),r.onChanged("leftMargin",o);break;case"right":i._removeUpdater("x"),this.left&&i._removeUpdater("width");var n=this._updateRight.bind(this);n(),i.onChanged("width",n),i.connectOn(r.right.parent,"boxChanged",n),r.onChanged("rightMargin",n);break;case"top":i._removeUpdater("y"),this.bottom&&i._removeUpdater("height");var s=this._updateTop.bind(this);s(),i.connectOn(r.top.parent,"boxChanged",s),r.onChanged("topMargin",s);break;case"bottom":i._removeUpdater("y"),this.top&&i._removeUpdater("height");var a=this._updateBottom.bind(this);a(),i.onChanged("height",a),i.connectOn(r.bottom.parent,"boxChanged",a),r.onChanged("bottomMargin",a);break;case"horizontalCenter":i._removeUpdater("x");var h=this._updateHCenter.bind(this);h(),i.onChanged("width",h),r.onChanged("leftMargin",h),r.onChanged("rightMargin",h),i.connectOn(r.horizontalCenter.parent,"boxChanged",h);break;case"verticalCenter":i._removeUpdater("y");var c=this._updateVCenter.bind(this);c(),i.onChanged("height",c),r.onChanged("topMargin",c),r.onChanged("bottomMargin",c),i.connectOn(r.verticalCenter.parent,"boxChanged",c);break;case"fill":r.left=r.fill.left,r.right=r.fill.right,r.top=r.fill.top,r.bottom=r.fill.bottom;break;case"centerIn":r.horizontalCenter=r.centerIn.horizontalCenter,r.verticalCenter=r.centerIn.verticalCenter;break;case"leftMargin":case"rightMargin":case"topMargin":case"bottomMargin":case"margins":this.marginsUpdated()}t.core.Object.prototype._update.apply(this,arguments)},i.addProperty(Bt,"AnchorLine","bottom"),i.addProperty(Bt,"AnchorLine","verticalCenter"),i.addProperty(Bt,"AnchorLine","top"),i.addProperty(Bt,"AnchorLine","left"),i.addProperty(Bt,"AnchorLine","horizontalCenter"),i.addProperty(Bt,"AnchorLine","right"),i.addProperty(Bt,"Item","fill"),i.addProperty(Bt,"Item","centerIn"),i.addProperty(Bt,"int","margins"),i.addProperty(Bt,"int","bottomMargin"),i.addProperty(Bt,"int","topMargin"),i.addProperty(Bt,"int","leftMargin"),i.addProperty(Bt,"int","rightMargin");var Nt=t.controls.core.Sprite,Vt=Nt.prototype,Yt=t.controls.core.AnimatedSprite=function(e,t){Nt.apply(this,arguments)},Dt=Yt.prototype=Object.create(Vt);Dt.constructor=Yt,Dt.componentName="controls.core.AnimatedSprite",Dt.finished=t.core.createSignal("finished"),Dt.triggered=t.core.createSignal("triggered"),Dt._start=function(){if(this._interval&&(clearInterval(this._interval),this._interval=void 0),this.running&&this.status==this.Ready){var e=this;e.repeat?e._interval=setInterval(function(){e.currentFrame=++e.currentFrame%e.totalFrames,e.triggered()},e.interval):(e._countdown=e.totalFrames-e.currentFrame,e._interval=setInterval(function(){0===e._countdown?(clearInterval(e._interval),e.running=!1,e.finished()):(--e._countdown,e.currentFrame=++e.currentFrame%e.totalFrames,e.triggered())},e.interval))}},Dt.stop=function(){this.currentFrame=0,this.running=!1},Dt.start=function(){this.running=!0},Dt.restart=function(){this.currentFrame=0,this.running=!0},Dt.pause=function(){this.running=!1},Dt._update=function(e,i){switch(e){case"totalFrames":case"interval":case"running":case"duration":case"repeat":case"status":this._start()}t.controls.core.Sprite.prototype._update.apply(this,arguments)},i.addProperty(Dt,"int","totalFrames"),i.addProperty(Dt,"int","currentFrame"),i.addProperty(Dt,"int","duration"),i.addProperty(Dt,"bool","repeat"),i.addProperty(Dt,"bool","running"),i.addProperty(Dt,"int","interval"),t.core._protoOnChanged(Dt,"currentFrame",function(e){var t=this.paintedWidth,i=this.width,r=Math.floor(t/i),o=e%r,n=Math.floor(e/r);this.offsetX=o*i,this.offsetY=n*this.height}),Dt.__create=function(e){Vt.__create.call(this,e.__base={})},Dt.__setup=function(e){Vt.__setup.call(this,e.__base),delete e.__base;var t=function(){this.interval=this._get("duration")/this._get("totalFrames")}.bind(this),i=this;this.connectOnChanged(i,"totalFrames",t);var r=this;this.connectOnChanged(r,"duration",t),this._removeUpdater("interval",[[i,"totalFrames",t],[r,"duration",t]]),t(),this._context._onCompleted(function(){this.running&&this._start()}.bind(this))};var qt=t.core.Object,Xt=qt.prototype,Kt=t.core.AnchorLine=function(e,t){qt.apply(this,arguments)},Zt=Kt.prototype=Object.create(Xt);Zt.constructor=Kt,Zt.componentName="core.AnchorLine",Zt.toScreen=function(){return this.parent.toScreen()[this.boxIndex]},i.addProperty(Zt,"int","boxIndex");var Jt=t.core.Rectangle,Gt=Jt.prototype,Qt=t.controls.web.WebItem=function(e,t){Jt.apply(this,arguments)},ei=Qt.prototype=Object.create(Gt);ei.constructor=Qt,ei.componentName="controls.web.WebItem",ei._update=function(e,i){switch(e){case"title":this.element.dom.setAttribute("title",i);break;case"position":this.style("position",i)}t.core.Rectangle.prototype._update.apply(this,arguments)},i.addProperty(ei,"Mixin","hoverMixin"),i.addProperty(ei,"string","position"),i.addProperty(ei,"string","title"),ei.__create=function(e){Gt.__create.call(this,e.__base={});var r=new t.core.HoverMixin(this);e.this$hoverMixin=r,r.__create(e.__closure_this$hoverMixin={}),this.hoverMixin=r,i.addAliasProperty(this,"hover",function(){return this._get("hoverMixin")}.bind(this),"value"),i.addAliasProperty(this,"activeHoverEnabled",function(){return this._get("hoverMixin")}.bind(this),"activeHoverEnabled"),i.addAliasProperty(this,"activeHover",function(){return this._get("hoverMixin")}.bind(this),"activeHover"),i.addAliasProperty(this,"cursor",function(){return this._get("hoverMixin")}.bind(this),"cursor"),i.addAliasProperty(this,"clickable",function(){return this._get("hoverMixin")}.bind(this),"clickable"),i.addAliasProperty(this,"hoverable",function(){return this._get("hoverMixin")}.bind(this),"enabled")},ei.__setup=function(e){Gt.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("color"),this.color="transparent";var t=e.this$hoverMixin;t.__setup(e.__closure_this$hoverMixin),delete e.__closure_this$hoverMixin,this._removeUpdater("hoverMixin.cursor"),this._get("hoverMixin").cursor="pointer"};var ti=t.core.Item,ii=ti.prototype,ri=t.spritest.UiIndex=function(e,t){ti.apply(this,arguments)},oi=ri.prototype=Object.create(ii);oi.constructor=ri,oi.componentName="spritest.UiIndex",oi.reloadImage=function(){if(this.imageFile&&this.imageFile.type.match(/image.*/)){var e=new FileReader;e.onloadend=function(){this._get("testSprite").stop(),this.source=e.result}.bind(this),e.readAsDataURL(this.imageFile)}},i.addProperty(oi,"string","source"),t.core._protoOnKey(oi,"Key",function(e,t){switch(e){case"Space":case"Select":this._get("testSprite").running=!this._get("testSprite").running;break;case"Left":this._get("spriteRect").hover.value?this._get("spriteRect").width--:this._get("testSprite").currentFrame=(--this._get("testSprite").currentFrame+this._get("testSprite").totalFrames)%this._get("testSprite").totalFrames;break;case"Right":this._get("spriteRect").hover.value?this._get("spriteRect").width++:this._get("testSprite").currentFrame=++this._get("testSprite").currentFrame%this._get("testSprite").totalFrames;break;case"R":this._get("testSprite").repeat=!this._get("testSprite").repeat;break;case"Up":this._get("spriteRect").hover.value&&this._get("spriteRect").height--;break;case"Down":this._get("spriteRect").hover.value&&this._get("spriteRect").height++;break;case"Q":case"L":this._get("fileInput").reload()}}),oi.__create=function(e){ii.__create.call(this,e.__base={});var r=new t.core.Image(this);e.this$child0=r,r.__create(e.__closure_this$child0={});var o=new t.core.Rectangle(r);e.this_child0$child0=o,o.__create(e.__closure_this_child0$child0={});var n=new t.controls.mixins.ImageMixin(o);e.this_child0_child0$child0=n,n.__create(e.__closure_this_child0_child0$child0={});var s=new t.core.Text(o);e.this_child0_child0$child1=s,s.__create(e.__closure_this_child0_child0$child1={});var a=new t.core.Rectangle(o);e.this_child0_child0$child2=a,a.__create(e.__closure_this_child0_child0$child2={}),r._setId("wholeImg");var h=new t.controls.web.ResizableBox(this);e.this$child1=h,h.__create(e.__closure_this$child1={}),i.addProperty(h,"HoverMixin","hover");var c=new t.controls.core.AnimatedSprite(h);e.this_child1$child0=c,c.__create(e.__closure_this_child1$child0={}),i.addProperty(c,"int","cols"),c._setId("testSprite");var d=new t.core.Rectangle(h);e.this_child1$child1=d,d.__create(e.__closure_this_child1$child1={});var l=new t.spritest.MaterialButton(d);e.this_child1_child1$child0=l,l.__create(e.__closure_this_child1_child1$child0={});var _=new t.spritest.MaterialButton(d);e.this_child1_child1$child1=_,_.__create(e.__closure_this_child1_child1$child1={});var p=new t.spritest.MaterialButton(d);e.this_child1_child1$child2=p,p.__create(e.__closure_this_child1_child1$child2={});var u=new t.spritest.MaterialButton(d);e.this_child1_child1$child3=u,u.__create(e.__closure_this_child1_child1$child3={});var g=new t.core.Text(h);e.this_child1$child2=g,g.__create(e.__closure_this_child1$child2={});var v=new t.core.HoverMixin(h);e.this_child1$hover=v,v.__create(e.__closure_this_child1$hover={}),h.hover=v,h._setId("spriteRect");var f=new t.controls.input.DropZone(this);e.this$child2=f,f.__create(e.__closure_this$child2={});var m=new t.core.Column(this);e.this$child3=m,m.__create(e.__closure_this$child3={});var b=new t.core.Text(m);e.this_child3$child0=b,b.__create(e.__closure_this_child3$child0={});var y=new t.core.Row(m);e.this_child3$child1=y,y.__create(e.__closure_this_child3$child1={});var w=new t.controls.web.WebItem(y);e.this_child3_child1$child0=w,w.__create(e.__closure_this_child3_child1$child0={});var x=new t.controls.pure.MaterialIcon(w);e.this_child3_child1_child0$child0=x,x.__create(e.__closure_this_child3_child1_child0$child0={});var C=new t.controls.input.FileInput(y);e.this_child3_child1$child1=C,C.__create(e.__closure_this_child3_child1$child1={}),C._setId("fileInput");var $=new t.core.Row(m);e.this_child3$child2=$,$.__create(e.__closure_this_child3$child2={});var S=new t.controls.input.TextInput($);e.this_child3_child2$child0=S,S.__create(e.__closure_this_child3_child2$child0={});var U=new t.core.Border(S);e.this_child3_child2_child0$child0=U,U.__create(e.__closure_this_child3_child2_child0$child0={}),S._setId("urlInput");var P=new t.controls.web.WebItem($);e.this_child3_child2$child1=P,P.__create(e.__closure_this_child3_child2$child1={});var k=new t.controls.mixins.TextMixin(P);e.this_child3_child2_child1$child0=k,k.__create(e.__closure_this_child3_child2_child1$child0={});var A=new t.spritest.InputWrapper(m);e.this_child3$child3=A,A.__create(e.__closure_this_child3$child3={}),i.addProperty(A,"int","safeNum");var O=new t.controls.input.NumberInput(A);e.this_child3_child3$child0=O,O.__create(e.__closure_this_child3_child3$child0={});var I=new t.core.Border(O);e.this_child3_child3_child0$child0=I,I.__create(e.__closure_this_child3_child3_child0$child0={}),O._setId("frames");var M=new t.spritest.InputWrapper(m);e.this_child3$child4=M,M.__create(e.__closure_this_child3$child4={});var H=new t.controls.input.NumberInput(M);e.this_child3_child4$child0=H,H.__create(e.__closure_this_child3_child4$child0={});var z=new t.core.Border(H);e.this_child3_child4_child0$child0=z,z.__create(e.__closure_this_child3_child4_child0$child0={}),H._setId("durationInput");var E=new t.spritest.InputWrapper(m);e.this_child3$child5=E,E.__create(e.__closure_this_child3$child5={});var F=new t.controls.input.NumberInput(E);e.this_child3_child5$child0=F,F.__create(e.__closure_this_child3_child5$child0={});var T=new t.core.Border(F);e.this_child3_child5_child0$child0=T,T.__create(e.__closure_this_child3_child5_child0$child0={}),F._setId("widthInput");var L=new t.spritest.InputWrapper(m);e.this_child3$child6=L,L.__create(e.__closure_this_child3$child6={});var j=new t.controls.input.NumberInput(L);e.this_child3_child6$child0=j,j.__create(e.__closure_this_child3_child6$child0={});var R=new t.core.Border(j);e.this_child3_child6_child0$child0=R,R.__create(e.__closure_this_child3_child6_child0$child0={}),j._setId("heightInput");var W=new t.spritest.InputWrapper(m);e.this_child3$child7=W,W.__create(e.__closure_this_child3$child7={});var B=new t.controls.input.ColorInput(W);e.this_child3_child7$child0=B,B.__create(e.__closure_this_child3_child7$child0={});var N=new t.core.Border(B);e.this_child3_child7_child0$child0=N,N.__create(e.__closure_this_child3_child7_child0$child0={}),B._setId("colorInput");var V=new t.core.Row(m);e.this_child3$child8=V,V.__create(e.__closure_this_child3$child8={});var Y=new t.controls.web.WebItem(V);e.this_child3_child8$child0=Y,Y.__create(e.__closure_this_child3_child8$child0={});var D=new t.controls.mixins.TextMixin(Y);e.this_child3_child8_child0$child0=D,D.__create(e.__closure_this_child3_child8_child0$child0={});var q=new t.controls.web.WebItem(V);e.this_child3_child8$child1=q,q.__create(e.__closure_this_child3_child8$child1={});var X=new t.controls.pure.MaterialIcon(q);e.this_child3_child8_child1$child0=X,X.__create(e.__closure_this_child3_child8_child1$child0={});var K=new t.core.Row(m);e.this_child3$child9=K,K.__create(e.__closure_this_child3$child9={});var Z=new t.core.Text(K);e.this_child3_child9$child0=Z,Z.__create(e.__closure_this_child3_child9$child0={});var J=new t.spritest.MaterialButton(K);e.this_child3_child9$child1=J,J.__create(e.__closure_this_child3_child9$child1={});var G=new t.core.Text(K);e.this_child3_child9$child2=G,G.__create(e.__closure_this_child3_child9$child2={});var Q=new t.spritest.MaterialButton(K);e.this_child3_child9$child3=Q,Q.__create(e.__closure_this_child3_child9$child3={});var ee=new t.core.Text(m);e.this_child3$child10=ee,ee.__create(e.__closure_this_child3$child10={}),this._setId("app")},oi.__setup=function(e){ii.__setup.call(this,e.__base),delete e.__base,this._removeUpdater("source"),this.source="res/szombie1w.png";var i=function(){this._get("anchors").fill=this._get("context")}.bind(this),r=this;this.connectOnChanged(r,"context",i),this._removeUpdater("anchors.fill",[[r,"context",i]]),i(),this._context._onCompleted(function(){this.setFocus()}.bind(this));var o=e.this$child0;o.__setup(e.__closure_this$child0),delete e.__closure_this$child0;var n=function(){o.width=Math.min(600,1*this._get("parent")._get("width")-this._get("x")-30)}.bind(o),s=o;o.connectOnChanged(s,"x",n);var a=o._get("parent");o.connectOnChanged(a,"width",n),o._removeUpdater("width",[[s,"x",n],[a,"width",n]]),n();var h=function(){o.height=this._get("spriteRect")._get("height")}.bind(o),c=o._get("spriteRect");o.connectOnChanged(c,"height",h),o._removeUpdater("height",[[c,"height",h]]),h();var d=function(){o.source=this._get("app")._get("source")}.bind(o),l=o._get("app");o.connectOnChanged(l,"source",d),o._removeUpdater("source",[[l,"source",d]]),d(),o._removeUpdater("fillMode"),o.fillMode=t.core.Image.prototype.PreserveAspectFit,o._removeUpdater("y"),o.y=20;var _=function(){o.x=this._get("spriteRect")._get("width")+50}.bind(o),p=o._get("spriteRect");o.connectOnChanged(p,"width",_),o._removeUpdater("x",[[p,"width",_]]),_();var u=e.this_child0$child0;u.__setup(e.__closure_this_child0$child0),delete e.__closure_this_child0$child0,u._removeUpdater("border.width"),u._get("border").width=1;var g=function(){u.width=this._get("parent")._get("paintedWidth")}.bind(u),v=u._get("parent");u.connectOnChanged(v,"paintedWidth",g),u._removeUpdater("width",[[v,"paintedWidth",g]]),g(),u._removeUpdater("border.color"),u._get("border").color="#039BE5";var f=function(){u._get("anchors").centerIn=this._get("parent")}.bind(u),m=u;u.connectOnChanged(m,"parent",f),u._removeUpdater("anchors.centerIn",[[m,"parent",f]]),f();var b=function(){u.height=this._get("parent")._get("paintedHeight")}.bind(u),y=u._get("parent");u.connectOnChanged(y,"paintedHeight",b),u._removeUpdater("height",[[y,"paintedHeight",b]]),b();var w=e.this_child0_child0$child0;w.__setup(e.__closure_this_child0_child0$child0),delete e.__closure_this_child0_child0$child0;var x=function(){w.width=1*this._get("parent")._get("width")}.bind(w),C=w._get("parent");w.connectOnChanged(C,"width",x),w._removeUpdater("width",[[C,"width",x]]),x(),w._removeUpdater("fillMode"),w.fillMode=t.core.Image.prototype.Tile,w._removeUpdater("z"),w.z=-2,w._removeUpdater("source"),w.source="res/checkerboard.png";var $=function(){w.height=1*this._get("parent")._get("height")}.bind(w),S=w._get("parent");w.connectOnChanged(S,"height",$),w._removeUpdater("height",[[S,"height",$]]),$(),u.addChild(w);var U=e.this_child0_child0$child1;U.__setup(e.__closure_this_child0_child0$child1),delete e.__closure_this_child0_child0$child1;var P=function(){U.y=1*this._get("parent")._get("height")+4}.bind(U),k=U._get("parent");U.connectOnChanged(k,"height",P),U._removeUpdater("y",[[k,"height",P]]),P(),U._removeUpdater("font.pixelSize"),U._get("font").pixelSize=10,U._removeUpdater("color"),U.color="#626262";var A=function(){U.text="Source height:<b> "+this._get("testSprite")._get("paintedHeight")+"</b>, width: <b> "+this._get("testSprite")._get("paintedWidth")+"</b>"}.bind(U),O=U._get("testSprite");U.connectOnChanged(O,"paintedWidth",A);var I=U._get("testSprite");U.connectOnChanged(I,"paintedHeight",A),U._removeUpdater("text",[[O,"paintedWidth",A],[I,"paintedHeight",A]]),A(),u.addChild(U);var M=e.this_child0_child0$child2;M.__setup(e.__closure_this_child0_child0$child2),delete e.__closure_this_child0_child0$child2;var H=function(){M._get("border").color=this._get("testSprite")._get("height")>this._get("testSprite")._get("paintedHeight")||this._get("testSprite")._get("width")>this._get("testSprite")._get("paintedWidth")?"red":"#4CAF50"}.bind(M),z=M._get("testSprite");M.connectOnChanged(z,"paintedHeight",H);var E=M._get("testSprite");M.connectOnChanged(E,"paintedWidth",H);var F=M._get("testSprite");M.connectOnChanged(F,"width",H);var T=M._get("testSprite");M.connectOnChanged(T,"height",H),M._removeUpdater("border.color",[[z,"paintedHeight",H],[E,"paintedWidth",H],[F,"width",H],[T,"height",H]]),H();var L=function(){M.width=this._get("testSprite")._get("width")/this._get("testSprite")._get("paintedWidth")*(1*this._get("parent")._get("width"))}.bind(M),j=M._get("parent");M.connectOnChanged(j,"width",L);var R=M._get("testSprite");M.connectOnChanged(R,"width",L);var W=M._get("testSprite");M.connectOnChanged(W,"paintedWidth",L),M._removeUpdater("width",[[j,"width",L],[R,"width",L],[W,"paintedWidth",L]]),L();var B=function(){M.height=this._get("testSprite")._get("height")/this._get("testSprite")._get("paintedHeight")*(1*this._get("parent")._get("height"))}.bind(M),N=M._get("testSprite");M.connectOnChanged(N,"paintedHeight",B);var V=M._get("parent");M.connectOnChanged(V,"height",B);var Y=M._get("testSprite");M.connectOnChanged(Y,"height",B),M._removeUpdater("height",[[N,"paintedHeight",B],[V,"height",B],[Y,"height",B]]),B(),M._removeUpdater("border.width"),M._get("border").width=1;var D=function(){M.y=Math.floor(this._get("testSprite")._get("currentFrame")/this._get("testSprite")._get("cols"))*this._get("height")}.bind(M),q=M._get("testSprite");M.connectOnChanged(q,"cols",D);var X=M._get("testSprite");M.connectOnChanged(X,"currentFrame",D);var K=M;M.connectOnChanged(K,"height",D),M._removeUpdater("y",[[q,"cols",D],[X,"currentFrame",D],[K,"height",D]]),D();var Z=function(){M.x=this._get("testSprite")._get("currentFrame")%this._get("testSprite")._get("cols")*this._get("width")}.bind(M),J=M._get("testSprite");M.connectOnChanged(J,"cols",Z);var G=M._get("testSprite");M.connectOnChanged(G,"currentFrame",Z);var Q=M;M.connectOnChanged(Q,"width",Z),M._removeUpdater("x",[[J,"cols",Z],[G,"currentFrame",Z],[Q,"width",Z]]),Z(),u.addChild(M),o.addChild(u),this.addChild(o);var ee=e.this$child1;ee.__setup(e.__closure_this$child1),delete e.__closure_this$child1;var te=e.this_child1$hover;te.__setup(e.__closure_this_child1$hover),delete e.__closure_this_child1$hover;var ie=function(){ee.color=this._get("colorInput")._get("color")}.bind(ee),re=ee._get("colorInput");ee.connectOnChanged(re,"color",ie),ee._removeUpdater("color",[[re,"color",ie]]),ie(),ee._removeUpdater("effects.shadow.blur"),ee._get("effects")._get("shadow").blur=12,ee._removeUpdater("border.width"),ee._get("border").width=0,ee._removeUpdater("y"),ee.y=20,ee._removeUpdater("x"),ee.x=20,ee._removeUpdater("effects.shadow.spread"),ee._get("effects")._get("shadow").spread=0,ee._removeUpdater("effects.shadow.y"),ee._get("effects")._get("shadow").y=1;var oe=e.this_child1$child0;oe.__setup(e.__closure_this_child1$child0),delete e.__closure_this_child1$child0;var ne=function(){oe.height=1*this._get("parent")._get("height")}.bind(oe),se=oe._get("parent");oe.connectOnChanged(se,"height",ne),oe._removeUpdater("height",[[se,"height",ne]]),ne();var ae=function(){oe.source=this._get("app")._get("source")}.bind(oe),he=oe._get("app");oe.connectOnChanged(he,"source",ae),oe._removeUpdater("source",[[he,"source",ae]]),ae();var ce=function(){oe.width=1*this._get("parent")._get("width")}.bind(oe),de=oe._get("parent");oe.connectOnChanged(de,"width",ce),oe._removeUpdater("width",[[de,"width",ce]]),ce();var le=function(){oe.cols=Math.floor(this._get("paintedWidth")/this._get("width"))}.bind(oe),_e=oe;oe.connectOnChanged(_e,"paintedWidth",le);var pe=oe;oe.connectOnChanged(pe,"width",le),oe._removeUpdater("cols",[[_e,"paintedWidth",le],[pe,"width",le]]),le(),ee.addChild(oe);var ue=e.this_child1$child1;ue.__setup(e.__closure_this_child1$child1),delete e.__closure_this_child1$child1,ue._removeUpdater("color"),ue.color="#00000044";var ge=function(){ue.width=1*this._get("parent")._get("width")}.bind(ue),ve=ue._get("parent");ue.connectOnChanged(ve,"width",ge),ue._removeUpdater("width",[[ve,"width",ge]]),ge();var fe=function(){ue.opacity=this._get("parent")._get("hover")._get("value")}.bind(ue),me=ue._get("parent")._get("hover");ue.connectOnChanged(me,"value",fe),ue._removeUpdater("opacity",[[me,"value",fe]]),fe();var be=function(){ue.height=1*this._get("parent")._get("height")}.bind(ue),ye=ue._get("parent");ue.connectOnChanged(ye,"height",be),ue._removeUpdater("height",[[ye,"height",be]]),be();var we=new t.core.Animation(ue),xe={behavior_this_child1_child1_on_opacity:we};we.__create(xe.__closure_behavior_this_child1_child1_on_opacity={});var we=xe.behavior_this_child1_child1_on_opacity;we.__setup(xe.__closure_behavior_this_child1_child1_on_opacity),delete xe.__closure_behavior_this_child1_child1_on_opacity,we._removeUpdater("duration"),we.duration=300,ue.setAnimation("opacity",we);var Ce=e.this_child1_child1$child0;Ce.__setup(e.__closure_this_child1_child1$child0),delete e.__closure_this_child1_child1$child0,Ce._removeUpdater("y"),Ce.y=2,Ce._removeUpdater("x"),Ce.x=20,Ce._removeUpdater("icon"),Ce.icon="remove_circle_outline",Ce.on("clicked",function(){this._get("spriteRect").width--}.bind(Ce)),ue.addChild(Ce);var $e=e.this_child1_child1$child1;$e.__setup(e.__closure_this_child1_child1$child1),delete e.__closure_this_child1_child1$child1,$e._removeUpdater("y"),$e.y=2,$e._removeUpdater("x"),$e.x=40,$e._removeUpdater("icon"),$e.icon="add_circle_outline",$e.on("clicked",function(){this._get("spriteRect").width++}.bind($e)),ue.addChild($e);var Se=e.this_child1_child1$child2;Se.__setup(e.__closure_this_child1_child1$child2),delete e.__closure_this_child1_child1$child2,Se._removeUpdater("y"),Se.y=20,Se._removeUpdater("x"),Se.x=2,Se._removeUpdater("icon"),Se.icon="remove_circle_outline",Se.on("clicked",function(){this._get("spriteRect").height--}.bind(Se)),ue.addChild(Se);var Ue=e.this_child1_child1$child3;Ue.__setup(e.__closure_this_child1_child1$child3),delete e.__closure_this_child1_child1$child3,Ue._removeUpdater("y"),Ue.y=40,Ue._removeUpdater("x"),Ue.x=2,Ue._removeUpdater("icon"),Ue.icon="add_circle_outline",Ue.on("clicked",function(){this._get("spriteRect").height++}.bind(Ue)),ue.addChild(Ue),ee.addChild(ue);var Pe=e.this_child1$child2;Pe.__setup(e.__closure_this_child1$child2),delete e.__closure_this_child1$child2;var ke=function(){Pe.y=1*this._get("parent")._get("height")+4}.bind(Pe),Ae=Pe._get("parent");Pe.connectOnChanged(Ae,"height",ke),Pe._removeUpdater("y",[[Ae,"height",ke]]),ke(),Pe._removeUpdater("color"),Pe.color="#212121";var Oe=function(){Pe.text=this._get("testSprite")._get("width")+" x "+this._get("testSprite")._get("height")}.bind(Pe),Ie=Pe._get("testSprite");Pe.connectOnChanged(Ie,"width",Oe);var Me=Pe._get("testSprite");Pe.connectOnChanged(Me,"height",Oe),Pe._removeUpdater("text",[[Ie,"width",Oe],[Me,"height",Oe]]),Oe(),Pe._removeUpdater("font.pixelSize"),Pe._get("font").pixelSize=10,ee.addChild(Pe),this.addChild(ee);var He=e.this$child2;He.__setup(e.__closure_this$child2),delete e.__closure_this$child2,He.on("filesAdded",function(e){this._get("app").imageFile=e[0],this._get("app").reloadImage()}.bind(He)),this.addChild(He);var ze=e.this$child3;ze.__setup(e.__closure_this$child3),delete e.__closure_this$child3;var Ee=function(){ze.y=Math.max(this._get("spriteRect")._get("height"),this._get("wholeImg")._get("height"))+50}.bind(ze),Fe=ze._get("spriteRect");ze.connectOnChanged(Fe,"height",Ee);var Te=ze._get("wholeImg");ze.connectOnChanged(Te,"height",Ee),ze._removeUpdater("y",[[Fe,"height",Ee],[Te,"height",Ee]]),Ee();var Le=function(){ze.width=this._get("wholeImg")._get("width")+this._get("wholeImg")._get("x")}.bind(ze),je=ze._get("wholeImg");ze.connectOnChanged(je,"width",Le);var Re=ze._get("wholeImg");ze.connectOnChanged(Re,"x",Le),ze._removeUpdater("width",[[je,"width",Le],[Re,"x",Le]]),Le(),ze._removeUpdater("spacing"),ze.spacing=12,ze._removeUpdater("x"),ze.x=20;var We=e.this_child3$child0;We.__setup(e.__closure_this_child3$child0),delete e.__closure_this_child3$child0,We._removeUpdater("font.pixelSize"),We._get("font").pixelSize=12,We._removeUpdater("color"),We.color="#414141",We._removeUpdater("font.weight"),We._get("font").weight=300,We._removeUpdater("text"),We.text="Load/drop(anywhere on the page) file or set URL",ze.addChild(We);var Be=e.this_child3$child1;Be.__setup(e.__closure_this_child3$child1),delete e.__closure_this_child3$child1,Be._removeUpdater("spacing"),Be.spacing=10;var Ne=e.this_child3_child1$child0;Ne.__setup(e.__closure_this_child3_child1$child0),delete e.__closure_this_child3_child1$child0,Ne._removeUpdater("border.color"),Ne._get("border").color="#0097A7";var Ve=function(){Ne.color=this._get("hover")?"#0097A7":"transparent"}.bind(Ne),Ye=Ne;Ne.connectOnChanged(Ye,"hover",Ve),Ne._removeUpdater("color",[[Ye,"hover",Ve]]),Ve(),Ne._removeUpdater("height"),Ne.height=30,Ne._removeUpdater("width"),Ne.width=30,Ne._removeUpdater("radius"),Ne.radius=16,Ne._removeUpdater("border.width"),Ne._get("border").width=1,Ne.on("clicked",function(){this._get("app").imageFile&&this._get("app").reloadImage()}.bind(Ne));var De=new t.core.Animation(Ne),qe={behavior_this_child3_child1_child0_on_background:De};De.__create(qe.__closure_behavior_this_child3_child1_child0_on_background={});var De=qe.behavior_this_child3_child1_child0_on_background;De.__setup(qe.__closure_behavior_this_child3_child1_child0_on_background),delete qe.__closure_behavior_this_child3_child1_child0_on_background,De._removeUpdater("duration"),De.duration=500,Ne.setAnimation("background",De);var Xe=e.this_child3_child1_child0$child0;Xe.__setup(e.__closure_this_child3_child1_child0$child0),delete e.__closure_this_child3_child1_child0$child0;var Ke=function(){Xe.color=this._get("parent")._get("hover")?"white":"#0097A7"}.bind(Xe),Ze=Xe._get("parent");Xe.connectOnChanged(Ze,"hover",Ke),Xe._removeUpdater("color",[[Ze,"hover",Ke]]),Ke(),Xe._removeUpdater("text"),Xe.text="refresh";var Je=function(){Xe._get("anchors").centerIn=this._get("parent")}.bind(Xe),Ge=Xe;Xe.connectOnChanged(Ge,"parent",Je),Xe._removeUpdater("anchors.centerIn",[[Ge,"parent",Je]]),Je();var Qe=new t.core.Animation(Xe),et={behavior_this_child3_child1_child0_child0_on_color:Qe};Qe.__create(et.__closure_behavior_this_child3_child1_child0_child0_on_color={});var Qe=et.behavior_this_child3_child1_child0_child0_on_color;Qe.__setup(et.__closure_behavior_this_child3_child1_child0_child0_on_color),
delete et.__closure_behavior_this_child3_child1_child0_child0_on_color,Qe._removeUpdater("duration"),Qe.duration=500,Xe.setAnimation("color",Qe),Ne.addChild(Xe),Be.addChild(Ne);var tt=e.this_child3_child1$child1;tt.__setup(e.__closure_this_child3_child1$child1),delete e.__closure_this_child3_child1$child1,tt._removeUpdater("y"),tt.y=5,tt._removeUpdater("height"),tt.height=20,tt.onChanged("value",function(e){this._get("app").imageFile=this.element.dom.files[0],this._get("app").reloadImage()}.bind(tt)),Be.addChild(tt),ze.addChild(Be);var it=e.this_child3$child2;it.__setup(e.__closure_this_child3$child2),delete e.__closure_this_child3$child2,it._removeUpdater("spacing"),it.spacing=10;var rt=e.this_child3_child2$child0;rt.__setup(e.__closure_this_child3_child2$child0),delete e.__closure_this_child3_child2$child0,rt._removeUpdater("font.pixelSize"),rt._get("font").pixelSize=16,rt._removeUpdater("width"),rt.width=200,rt._removeUpdater("paddings.left"),rt._get("paddings").left=8,rt._removeUpdater("height"),rt.height=32;var ot=e.this_child3_child2_child0$child0;ot.__setup(e.__closure_this_child3_child2_child0$child0),delete e.__closure_this_child3_child2_child0$child0,ot._removeUpdater("color"),ot.color="#AAA",ot._removeUpdater("width"),ot.width=1,rt.addChild(ot),it.addChild(rt);var nt=e.this_child3_child2$child1;nt.__setup(e.__closure_this_child3_child2$child1),delete e.__closure_this_child3_child2$child1,nt._removeUpdater("border.color"),nt._get("border").color="#0288D1";var st=function(){nt.color=this._get("hover")?this._get("border")._get("color"):"transparent"}.bind(nt),at=nt._get("border");nt.connectOnChanged(at,"color",st);var ht=nt;nt.connectOnChanged(ht,"hover",st),nt._removeUpdater("color",[[at,"color",st],[ht,"hover",st]]),st(),nt._removeUpdater("height"),nt.height=30,nt._removeUpdater("width"),nt.width=80,nt._removeUpdater("radius"),nt.radius=5,nt._removeUpdater("border.width"),nt._get("border").width=1,nt.on("clicked",function(){this._get("testSprite").stop(),this._get("app").source=this._get("urlInput").text}.bind(nt));var ct=new t.core.Animation(nt),dt={behavior_this_child3_child2_child1_on_background:ct};ct.__create(dt.__closure_behavior_this_child3_child2_child1_on_background={});var ct=dt.behavior_this_child3_child2_child1_on_background;ct.__setup(dt.__closure_behavior_this_child3_child2_child1_on_background),delete dt.__closure_behavior_this_child3_child2_child1_on_background,ct._removeUpdater("duration"),ct.duration=500,nt.setAnimation("background",ct);var lt=e.this_child3_child2_child1$child0;lt.__setup(e.__closure_this_child3_child2_child1$child0),delete e.__closure_this_child3_child2_child1$child0;var _t=function(){lt.color=this._get("parent")._get("hover")?"white":"#626262"}.bind(lt),pt=lt._get("parent");lt.connectOnChanged(pt,"hover",_t),lt._removeUpdater("color",[[pt,"hover",_t]]),_t(),lt._removeUpdater("text"),lt.text="Set URL";var ut=new t.core.Animation(lt),gt={behavior_this_child3_child2_child1_child0_on_color:ut};ut.__create(gt.__closure_behavior_this_child3_child2_child1_child0_on_color={});var ut=gt.behavior_this_child3_child2_child1_child0_on_color;ut.__setup(gt.__closure_behavior_this_child3_child2_child1_child0_on_color),delete gt.__closure_behavior_this_child3_child2_child1_child0_on_color,ut._removeUpdater("duration"),ut.duration=500,lt.setAnimation("color",ut),nt.addChild(lt),it.addChild(nt),ze.addChild(it);var vt=e.this_child3$child3;vt.__setup(e.__closure_this_child3$child3),delete e.__closure_this_child3$child3;var ft=function(){vt.text='Total number of frames <span style="color:#'+(this._get("safeNum")<this._get("testSprite")._get("totalFrames")?"EE5555":"55AA55")+';">(safe&nbsp;number&nbsp;is&nbsp;'+this._get("safeNum")+")</span>"}.bind(vt),mt=vt;vt.connectOnChanged(mt,"safeNum",ft);var bt=vt._get("testSprite");vt.connectOnChanged(bt,"totalFrames",ft),vt._removeUpdater("text",[[mt,"safeNum",ft],[bt,"totalFrames",ft]]),ft();var yt=function(){vt.safeNum=Math.floor(this._get("testSprite")._get("paintedWidth")/this._get("testSprite")._get("width"))*Math.floor(this._get("testSprite")._get("paintedHeight")/this._get("testSprite")._get("height"))}.bind(vt),wt=vt._get("testSprite");vt.connectOnChanged(wt,"width",yt);var xt=vt._get("testSprite");vt.connectOnChanged(xt,"paintedWidth",yt);var Ct=vt._get("testSprite");vt.connectOnChanged(Ct,"paintedHeight",yt);var $t=vt._get("testSprite");vt.connectOnChanged($t,"height",yt),vt._removeUpdater("safeNum",[[wt,"width",yt],[xt,"paintedWidth",yt],[Ct,"paintedHeight",yt],[$t,"height",yt]]),yt();var St=e.this_child3_child3$child0;St.__setup(e.__closure_this_child3_child3$child0),delete e.__closure_this_child3_child3$child0,St._removeUpdater("font.pixelSize"),St._get("font").pixelSize=16,St._removeUpdater("width"),St.width=60,St._removeUpdater("height"),St.height=32,St._context._onCompleted(function(){this.value=6}.bind(St)),St.onChanged("value",function(e){this._get("testSprite").totalFrames=e,this._get("testSprite").running&&this._get("testSprite").restart()}.bind(St));var Ut=e.this_child3_child3_child0$child0;Ut.__setup(e.__closure_this_child3_child3_child0$child0),delete e.__closure_this_child3_child3_child0$child0,Ut._removeUpdater("color"),Ut.color="#AAA",Ut._removeUpdater("width"),Ut.width=1,St.addChild(Ut),vt.addChild(St),ze.addChild(vt);var Pt=e.this_child3$child4;Pt.__setup(e.__closure_this_child3$child4),delete e.__closure_this_child3$child4;var kt=function(){Pt.text="Duration of the animation ("+Math.floor(1e5/this._get("testSprite")._get("interval"))/100+" fps)"}.bind(Pt),At=Pt._get("testSprite");Pt.connectOnChanged(At,"interval",kt),Pt._removeUpdater("text",[[At,"interval",kt]]),kt();var Ot=e.this_child3_child4$child0;Ot.__setup(e.__closure_this_child3_child4$child0),delete e.__closure_this_child3_child4$child0,Ot._removeUpdater("font.pixelSize"),Ot._get("font").pixelSize=16,Ot._removeUpdater("width"),Ot.width=60;var It=function(){Ot.step=this._get("value")<100?1:this._get("value")<1e3?10:100}.bind(Ot),Mt=Ot;Ot.connectOnChanged(Mt,"value",It),Ot._removeUpdater("step",[[Mt,"value",It]]),It(),Ot._removeUpdater("height"),Ot.height=32,Ot._context._onCompleted(function(){this.value=600}.bind(Ot)),Ot.onChanged("value",function(e){this._get("testSprite").duration=e,this._get("testSprite").running&&this._get("testSprite").restart()}.bind(Ot));var Ht=e.this_child3_child4_child0$child0;Ht.__setup(e.__closure_this_child3_child4_child0$child0),delete e.__closure_this_child3_child4_child0$child0,Ht._removeUpdater("color"),Ht.color="#AAA",Ht._removeUpdater("width"),Ht.width=1,Ot.addChild(Ht),Pt.addChild(Ot),ze.addChild(Pt);var zt=e.this_child3$child5;zt.__setup(e.__closure_this_child3$child5),delete e.__closure_this_child3$child5,zt._removeUpdater("text"),zt.text="Frame width";var Et=e.this_child3_child5$child0;Et.__setup(e.__closure_this_child3_child5$child0),delete e.__closure_this_child3_child5$child0,Et._removeUpdater("font.pixelSize"),Et._get("font").pixelSize=16,Et._removeUpdater("width"),Et.width=60;var Ft=function(){Et.value=this._get("spriteRect")._get("width")}.bind(Et),Tt=Et._get("spriteRect");Et.connectOnChanged(Tt,"width",Ft),Et._removeUpdater("value",[[Tt,"width",Ft]]),Ft(),Et._removeUpdater("height"),Et.height=32,Et._context._onCompleted(function(){this.value=121}.bind(Et)),Et.onChanged("value",function(e){this._get("spriteRect").width=e,this._get("testSprite").running&&this._get("testSprite").restart()}.bind(Et));var Lt=e.this_child3_child5_child0$child0;Lt.__setup(e.__closure_this_child3_child5_child0$child0),delete e.__closure_this_child3_child5_child0$child0,Lt._removeUpdater("color"),Lt.color="#AAA",Lt._removeUpdater("width"),Lt.width=1,Et.addChild(Lt),zt.addChild(Et),ze.addChild(zt);var jt=e.this_child3$child6;jt.__setup(e.__closure_this_child3$child6),delete e.__closure_this_child3$child6,jt._removeUpdater("text"),jt.text="Frame height";var Rt=e.this_child3_child6$child0;Rt.__setup(e.__closure_this_child3_child6$child0),delete e.__closure_this_child3_child6$child0,Rt._removeUpdater("font.pixelSize"),Rt._get("font").pixelSize=16,Rt._removeUpdater("width"),Rt.width=60;var Wt=function(){Rt.value=this._get("spriteRect")._get("height")}.bind(Rt),Bt=Rt._get("spriteRect");Rt.connectOnChanged(Bt,"height",Wt),Rt._removeUpdater("value",[[Bt,"height",Wt]]),Wt(),Rt._removeUpdater("height"),Rt.height=32,Rt._context._onCompleted(function(){this.value=181}.bind(Rt)),Rt.onChanged("value",function(e){this._get("spriteRect").height=e,this._get("testSprite").running&&this._get("testSprite").restart()}.bind(Rt));var Nt=e.this_child3_child6_child0$child0;Nt.__setup(e.__closure_this_child3_child6_child0$child0),delete e.__closure_this_child3_child6_child0$child0,Nt._removeUpdater("color"),Nt.color="#AAA",Nt._removeUpdater("width"),Nt.width=1,Rt.addChild(Nt),jt.addChild(Rt),ze.addChild(jt);var Vt=e.this_child3$child7;Vt.__setup(e.__closure_this_child3$child7),delete e.__closure_this_child3$child7,Vt._removeUpdater("text"),Vt.text="Background color";var Yt=e.this_child3_child7$child0;Yt.__setup(e.__closure_this_child3_child7$child0),delete e.__closure_this_child3_child7$child0,Yt._removeUpdater("color"),Yt.color="#FFFFFF",Yt._removeUpdater("width"),Yt.width=60,Yt._removeUpdater("height"),Yt.height=32;var Dt=e.this_child3_child7_child0$child0;Dt.__setup(e.__closure_this_child3_child7_child0$child0),delete e.__closure_this_child3_child7_child0$child0,Dt._removeUpdater("color"),Dt.color="#AAA",Dt._removeUpdater("width"),Dt.width=1,Yt.addChild(Dt),Vt.addChild(Yt),ze.addChild(Vt);var qt=e.this_child3$child8;qt.__setup(e.__closure_this_child3$child8),delete e.__closure_this_child3$child8,qt._removeUpdater("spacing"),qt.spacing=8;var Xt=e.this_child3_child8$child0;Xt.__setup(e.__closure_this_child3_child8$child0),delete e.__closure_this_child3_child8$child0;var Kt=function(){Xt._get("border").color=this._get("testSprite")._get("running")?"#EF6C00":"#8BC34A"}.bind(Xt),Zt=Xt._get("testSprite");Xt.connectOnChanged(Zt,"running",Kt),Xt._removeUpdater("border.color",[[Zt,"running",Kt]]),Kt();var Jt=function(){Xt.color=this._get("hover")?this._get("border")._get("color"):"transparent"}.bind(Xt),Gt=Xt;Xt.connectOnChanged(Gt,"hover",Jt);var Qt=Xt._get("border");Xt.connectOnChanged(Qt,"color",Jt),Xt._removeUpdater("color",[[Gt,"hover",Jt],[Qt,"color",Jt]]),Jt(),Xt._removeUpdater("height"),Xt.height=30,Xt._removeUpdater("width"),Xt.width=80,Xt._removeUpdater("radius"),Xt.radius=5,Xt._removeUpdater("border.width"),Xt._get("border").width=1,Xt.on("clicked",function(){this._get("testSprite").running=!this._get("testSprite").running}.bind(Xt));var ei=new t.core.Animation(Xt),ti={behavior_this_child3_child8_child0_on_background:ei};ei.__create(ti.__closure_behavior_this_child3_child8_child0_on_background={});var ei=ti.behavior_this_child3_child8_child0_on_background;ei.__setup(ti.__closure_behavior_this_child3_child8_child0_on_background),delete ti.__closure_behavior_this_child3_child8_child0_on_background,ei._removeUpdater("duration"),ei.duration=500,Xt.setAnimation("background",ei);var ri=e.this_child3_child8_child0$child0;ri.__setup(e.__closure_this_child3_child8_child0$child0),delete e.__closure_this_child3_child8_child0$child0;var oi=function(){ri.color=this._get("parent")._get("hover")?"white":"#626262"}.bind(ri),ni=ri._get("parent");ri.connectOnChanged(ni,"hover",oi),ri._removeUpdater("color",[[ni,"hover",oi]]),oi();var si=function(){ri.text=this._get("testSprite")._get("running")?"Pause":"Start"}.bind(ri),ai=ri._get("testSprite");ri.connectOnChanged(ai,"running",si),ri._removeUpdater("text",[[ai,"running",si]]),si();var hi=new t.core.Animation(ri),ci={behavior_this_child3_child8_child0_child0_on_color:hi};hi.__create(ci.__closure_behavior_this_child3_child8_child0_child0_on_color={});var hi=ci.behavior_this_child3_child8_child0_child0_on_color;hi.__setup(ci.__closure_behavior_this_child3_child8_child0_child0_on_color),delete ci.__closure_behavior_this_child3_child8_child0_child0_on_color,hi._removeUpdater("duration"),hi.duration=500,ri.setAnimation("color",hi),Xt.addChild(ri),qt.addChild(Xt);var di=e.this_child3_child8$child1;di.__setup(e.__closure_this_child3_child8$child1),delete e.__closure_this_child3_child8$child1,di._removeUpdater("border.color"),di._get("border").color="#0097A7";var li=function(){di.color=this._get("testSprite")._get("repeat")?"#0097A7":"transparent"}.bind(di),_i=di._get("testSprite");di.connectOnChanged(_i,"repeat",li),di._removeUpdater("color",[[_i,"repeat",li]]),li(),di._removeUpdater("height"),di.height=30,di._removeUpdater("width"),di.width=30,di._removeUpdater("radius"),di.radius=16,di._removeUpdater("border.width"),di._get("border").width=1,di.on("clicked",function(){this._get("testSprite").repeat=!this._get("testSprite").repeat}.bind(di));var pi=new t.core.Animation(di),ui={behavior_this_child3_child8_child1_on_background:pi};pi.__create(ui.__closure_behavior_this_child3_child8_child1_on_background={});var pi=ui.behavior_this_child3_child8_child1_on_background;pi.__setup(ui.__closure_behavior_this_child3_child8_child1_on_background),delete ui.__closure_behavior_this_child3_child8_child1_on_background,pi._removeUpdater("duration"),pi.duration=250,di.setAnimation("background",pi);var gi=e.this_child3_child8_child1$child0;gi.__setup(e.__closure_this_child3_child8_child1$child0),delete e.__closure_this_child3_child8_child1$child0;var vi=function(){gi.color=this._get("testSprite")._get("repeat")?"white":"#0097A7"}.bind(gi),fi=gi._get("testSprite");gi.connectOnChanged(fi,"repeat",vi),gi._removeUpdater("color",[[fi,"repeat",vi]]),vi(),gi._removeUpdater("text"),gi.text="autorenew";var mi=function(){gi._get("anchors").centerIn=this._get("parent")}.bind(gi),bi=gi;gi.connectOnChanged(bi,"parent",mi),gi._removeUpdater("anchors.centerIn",[[bi,"parent",mi]]),mi();var yi=new t.core.Animation(gi),wi={behavior_this_child3_child8_child1_child0_on_color:yi};yi.__create(wi.__closure_behavior_this_child3_child8_child1_child0_on_color={});var yi=wi.behavior_this_child3_child8_child1_child0_on_color;yi.__setup(wi.__closure_behavior_this_child3_child8_child1_child0_on_color),delete wi.__closure_behavior_this_child3_child8_child1_child0_on_color,yi._removeUpdater("duration"),yi.duration=250,gi.setAnimation("color",yi),di.addChild(gi),qt.addChild(di),ze.addChild(qt);var xi=e.this_child3$child9;xi.__setup(e.__closure_this_child3$child9),delete e.__closure_this_child3$child9,xi._removeUpdater("spacing"),xi.spacing=5,xi._removeUpdater("height"),xi.height=32;var Ci=e.this_child3_child9$child0;Ci.__setup(e.__closure_this_child3_child9$child0),delete e.__closure_this_child3_child9$child0,Ci._removeUpdater("font.pixelSize"),Ci._get("font").pixelSize=20,Ci._removeUpdater("color"),Ci.color="#626262";var $i=function(){Ci._get("anchors").verticalCenter=this._get("parent")._get("verticalCenter")}.bind(Ci),Si=Ci._get("parent");Ci.connectOnChanged(Si,"verticalCenter",$i),Ci._removeUpdater("anchors.verticalCenter",[[Si,"verticalCenter",$i]]),$i(),Ci._removeUpdater("font.weight"),Ci._get("font").weight=300,Ci._removeUpdater("text"),Ci.text="Current frame ",xi.addChild(Ci);var Ui=e.this_child3_child9$child1;Ui.__setup(e.__closure_this_child3_child9$child1),delete e.__closure_this_child3_child9$child1,Ui._removeUpdater("y"),Ui.y=5,Ui._removeUpdater("color"),Ui.color="#00695C",Ui._removeUpdater("icon"),Ui.icon="fast_rewind",Ui.on("clicked",function(){this._get("testSprite").currentFrame=(--this._get("testSprite").currentFrame+this._get("testSprite").totalFrames)%this._get("testSprite").totalFrames}.bind(Ui)),xi.addChild(Ui);var Pi=e.this_child3_child9$child2;Pi.__setup(e.__closure_this_child3_child9$child2),delete e.__closure_this_child3_child9$child2,Pi._removeUpdater("font.pixelSize"),Pi._get("font").pixelSize=20,Pi._removeUpdater("color"),Pi.color="#414141";var ki=function(){Pi._get("anchors").verticalCenter=this._get("parent")._get("verticalCenter")}.bind(Pi),Ai=Pi._get("parent");Pi.connectOnChanged(Ai,"verticalCenter",ki),Pi._removeUpdater("anchors.verticalCenter",[[Ai,"verticalCenter",ki]]),ki(),Pi._removeUpdater("font.weight"),Pi._get("font").weight=300;var Oi=function(){Pi.text=this._get("testSprite")._get("currentFrame")}.bind(Pi),Ii=Pi._get("testSprite");Pi.connectOnChanged(Ii,"currentFrame",Oi),Pi._removeUpdater("text",[[Ii,"currentFrame",Oi]]),Oi(),xi.addChild(Pi);var Mi=e.this_child3_child9$child3;Mi.__setup(e.__closure_this_child3_child9$child3),delete e.__closure_this_child3_child9$child3,Mi._removeUpdater("y"),Mi.y=5,Mi._removeUpdater("color"),Mi.color="#00695C",Mi._removeUpdater("icon"),Mi.icon="fast_forward",Mi.on("clicked",function(){this._get("testSprite").currentFrame=++this._get("testSprite").currentFrame%this._get("testSprite").totalFrames}.bind(Mi)),xi.addChild(Mi),ze.addChild(xi);var Hi=e.this_child3$child10;Hi.__setup(e.__closure_this_child3$child10),delete e.__closure_this_child3$child10,Hi._removeUpdater("color"),Hi.color="#616161";var zi=function(){Hi.width=1*this._get("parent")._get("width")}.bind(Hi),Ei=Hi._get("parent");Hi.connectOnChanged(Ei,"width",zi),Hi._removeUpdater("width",[[Ei,"width",zi]]),zi(),Hi._removeUpdater("text"),Hi.text='\n\t\t\t<b>Tips:</b><br>\n\t\t\t<ul style="list-style-type:circle">\n\t\t\t\t<li>\n\t\t\t\t\t<b>Left, Right</b> - if the frame hovered, to agjust width, otherwise move to the next/previous frame;\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<b>Up, Down</b> - if the frame hovered, to adjust height;\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<b>Enter or Space</b> - start or pause animation;\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<b>R</b> - activates autorepeat;\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<b>Q or L</b> - reload local image;\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\tStart button trigger animation cycle once, set autorepeat flag for infinite loop;\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\tRealod button reloads the resource from your filesystem if you choosed one(might be useful to keep all current values and adjust the resource);\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\tThe frame can be adjusted manually by resizing it\'s rectangle, using plus/minus when hovered, or via inputs above.\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\tView the project on <a href="https://github.com/vkrv/spritest">GitHub<a><br><br>\n\t\t\t\t\t',Hi._removeUpdater("wrapMode"),Hi.wrapMode=t.core.Text.prototype.WordWrap,Hi._removeUpdater("font.pixelSize"),Hi._get("font").pixelSize=12,ze.addChild(Hi),this.addChild(ze)};var ni=t.core.EventEmitter,si=ni.prototype,ai=t.core.RAIIEventEmitter=function(e,t){ni.apply(this,arguments),this._onFirstListener={},this._onLastListener={}},hi=ai.prototype=Object.create(si);hi.constructor=ai,hi.componentName="core.RAIIEventEmitter",hi.discard=function(){t.core.EventEmitter.prototype.discard.apply(this)},hi.on=function(e,i){if(!(e in this._eventHandlers)&&(e in this._onFirstListener?this._onFirstListener[e](e):""in this._onFirstListener&&this._onFirstListener[""](e),this._eventHandlers[e]))throw new Error("listener callback added event handler");t.core.EventEmitter.prototype.on.call(this,e,i)},hi.onListener=function(e,t,i){this._onFirstListener[e]=t,this._onLastListener[e]=i},hi.removeAllListeners=function(e){t.core.EventEmitter.prototype.removeAllListeners.call(this,e),e in this._onLastListener?this._onLastListener[e](e):""in this._onLastListener&&this._onLastListener[""](e)};var ci=t.core.Object,di=ci.prototype,li=t.html5.Stylesheet=function(e,i){ci.apply(this,arguments);var r=this._context,o=r.options,n=this.style=r.createElement("style");n.dom.type="text/css",this.prefix=o.prefix;var s=o.id,a=document.getElementById(s),h=null===a,c=window.Modernizr.prefixedCSS("user-select")+": none; ";n.setHtml("div#"+s+" { position: absolute; visibility: inherit; left: 0px; top: 0px; }div."+this._context.getClass("core-text")+" { width: auto; height: auto; visibility: inherit; }"+(h?"body { overflow-x: hidden; }":"")+this.mangleRule("video","{ position: absolute; visibility: inherit; }")+this.mangleRule("img","{ position: absolute; visibility: inherit; -webkit-touch-callout: none; "+c+" }")),t.html5.html.getElement("head").append(n),this._addRule=t.html5.html.createAddRule(n.dom).bind(this),this._lastId=0},_i=li.prototype=Object.create(di);_i.constructor=li,_i.componentName="html5.Stylesheet",_i.allocateClass=function(e){var t=this.prefix;return(t?t:"")+e+"-"+this._lastId++},_i.addRule=function(e,t){var i=this.mangleSelector(e);this._addRule(i,t)},_i.mangleRule=function(e,t){return this.mangleSelector(e)+" "+t+" "},_i.mangleSelector=function(e){var t=this.prefix;return t?e+"."+t+"core-item":e};var pi=t.core.Object,ui=pi.prototype,gi=t.html5.Location=function(e,t){pi.apply(this,arguments);var i=this,r=window.location;window.onhashchange=function(){i.hash=r.hash},window.onpopstate=function(){i.updateActualValues()}},vi=gi.prototype=Object.create(ui);vi.constructor=gi,vi.componentName="html5.Location",vi.updateActualValues=function(){this.hash=window.location.hash,this.href=window.location.href,this.port=window.location.port,this.host=window.location.host,this.origin=window.location.origin,this.hostname=window.location.hostname,this.pathname=window.location.pathname,this.protocol=window.location.protocol,this.search=window.location.search,this.state=window.history.state},vi.changeHref=function(e){window.location.href=e,this.updateActualValues()},vi.pushState=function(e,t,i){window.location.hostname?(window.history.pushState(e,t,i),this.updateActualValues()):(document.title=t,this.state=e)},i.addProperty(vi,"string","hash"),i.addProperty(vi,"string","host"),i.addProperty(vi,"string","href"),i.addProperty(vi,"string","port"),i.addProperty(vi,"string","origin"),i.addProperty(vi,"string","hostname"),i.addProperty(vi,"string","pathname"),i.addProperty(vi,"string","protocol"),i.addProperty(vi,"string","search"),i.addProperty(vi,"Object","state");var fi=t.core.Object,mi=fi.prototype,bi=t.html5.Orientation=function(e,t){fi.apply(this,arguments)},yi=bi.prototype=Object.create(mi);return yi.constructor=bi,yi.componentName="html5.Orientation",yi.onChanged=function(e,i){if(!this._orientationEnabled){var r=this;window.ondeviceorientation=function(e){r.absolute=e.absolute,r.alpha=e.alpha,r.beta=e.beta,r.gamma=e.gamma},this._orientationEnabled=!0}t.core.Object.prototype.onChanged.apply(this,arguments)},i.addProperty(yi,"real","alpha"),i.addProperty(yi,"real","beta"),i.addProperty(yi,"real","gamma"),i.addProperty(yi,"bool","absolute"),t.core.model=function(){var e={};e._get=function(t){return e[t]};var t=0,i=1,r=2,o=function(e,t){this.type=e,this.length=t};return e.ModelUpdate=function(){this.count=0,this._reset()},e.ModelUpdate.prototype.constructor=e.ModelUpdate,e.ModelUpdate.prototype._reset=function(){this._ranges=[new o(t,this.count)],this._updateIndex=this.count},e.ModelUpdate.prototype._setUpdateIndex=function(e){e<this._updateIndex&&(this._updateIndex=e)},e.ModelUpdate.prototype._find=function(e){var t,i=this._ranges;for(t=0;t<i.length;++t){var r=i[t];if(e<r.length)return{index:t,offset:e};r.length>0&&(e-=r.length)}if(0!=e)throw new Error("invalid index "+e);return{index:t-1,offset:r.length}},e.ModelUpdate.prototype.reset=function(e){this.update(e,0,Math.min(e.count,this.count)),this.count<e.count?this.insert(e,this.count,e.count):this.remove(e,e.count,this.count)},e.ModelUpdate.prototype._merge=function(){for(var e=this._ranges,t=1;t<e.length;){var o=e[t-1],n=e[t];if(o.type===n.type)if(o.type===i&&o.length<0&&n.length>0){var s=Math.min(-o.length,n.length);o.type=r,n.length+=o.length,o.length=s,t>1&&--t}else o.length+=n.length,e.splice(t,1);else o.type==i&&0===o.length?e.splice(t,1):++t}},e.ModelUpdate.prototype._split=function(e,t,i,r){var n=this._ranges;if(0==t)return n.splice(e,0,new o(i,r)),e+1;var s=n[e],a=s.length-t;return s.length=t,0!=a?(n.splice(e+1,0,new o(i,r),new o(s.type,a)),e+2):(n.splice(e+1,0,new o(i,r)),e+2)},e.ModelUpdate.prototype.insert=function(e,t,r){if(!(t>=r)){this._setUpdateIndex(t);var o=this._ranges,n=r-t;if(this.count+=n,this.count!=e.count)throw new Error("unbalanced insert "+this.count+" + ["+t+"-"+r+"], model reported "+e.count);var s=this._find(t),a=o[s.index];0==a.length?(a.type=i,a.length+=n):s.offset>=0?this._split(s.index,s.offset,i,n):this._split(s.index+1,0,i,n),this._merge()}},e.ModelUpdate.prototype.remove=function(e,t,r){if(!(t>=r)){this._setUpdateIndex(t);var o=this._ranges,n=r-t;if(this.count-=n,this.count!=e.count)throw new Error("unbalanced remove "+this.count+" + ["+t+"-"+r+"], model reported "+e.count);var s=this._find(t),a=o[s.index];if(a.type==i)a.length-=n;else for(var h=this._split(s.index,s.offset,i,-n);n>0;){var a=o[h];a.length<=n?(o.splice(h,1),n-=a.length):(a.length-=n,n=0)}this._merge()}},e.ModelUpdate.prototype.update=function(e,n,s){if(!(n>=s)){var a=this._ranges,h=s-n,c=this._find(n),d=c.index,l=a[d];if(c.offset>0&&(a.splice(d+1,0,new o(l.type,l.length-c.offset)),l.length=c.offset,++d,0==l.length))throw new Error("invalid offset");for(;h>0;){var l=a[d],_=l.length;switch(l.type){case t:_>h?(l.length-=h,a.splice(d,0,new o(r,h)),h-=_):(l.type=r,h-=_);break;case i:_>0&&(h-=_),++d;break;case r:h-=_,++d}}this._merge()}},e.ModelUpdate.prototype.apply=function(e,t){var o=0;if(this._ranges.forEach(function(t){var n=t.length;switch(t.type){case i:n>0?(e._insertItems(o,o+n),o+=n):n<0&&e._removeItems(o,o-n);break;case r:e._updateItems(o,o+n),o+=n;break;default:o+=t.length}}),!t&&e._items.length!=this.count)throw new Error("unbalanced items update, view: "+e._items.length+", update:"+this.count);for(var n=this._updateIndex;n<this.count;++n)e._updateDelegateIndex(n);this._reset()},e}(),t.controls.pure.format=function(){var e={};return e._get=function(t){return e[t]},e.currency=function(e,t,i){var r="\\d(?=(\\d{"+(i||3)+"})+"+(t>0?"\\.":"$")+")";return e.toFixed(Math.max(0,~~t)).replace(new RegExp(r,"g"),"$&,")},e}(),t.html5.dist.modernizr_custom=function(){var e={};return e._get=function(t){return e[t]},!function(e,t,i){function r(e,t){return typeof e===t}function o(){var e,t,i,o,n,s,a;for(var h in b)if(b.hasOwnProperty(h)){if(e=[],t=b[h],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(o=r(t.fn,"function")?t.fn():t.fn,n=0;n<e.length;n++)s=e[n],a=s.split("."),1===a.length?w[a[0]]=o:(!w[a[0]]||w[a[0]]instanceof Boolean||(w[a[0]]=new Boolean(w[a[0]])),w[a[0]][a[1]]=o),m.push((o?"":"no-")+a.join("-"))}}function n(e){var t=x.className,i=w._config.classPrefix||"";if(C&&(t=t.baseVal),w._config.enableJSClass){var r=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(r,"$1"+i+"js$2")}w._config.enableClasses&&(t+=" "+i+e.join(" "+i),C?x.className.baseVal=t:x.className=t)}function s(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")}function a(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function h(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):C?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function c(e,t){return!!~(""+e).indexOf(t)}function d(e,t){return function(){return e.apply(t,arguments)}}function l(e,t,i){var o;for(var n in e)if(e[n]in t)return i===!1?e[n]:(o=t[e[n]],r(o,"function")?d(o,i||t):o);return!1}function _(){var e=t.body;return e||(e=h(C?"svg":"body"),e.fake=!0),e}function p(e,i,r,o){var n,s,a,c,d="modernizr",l=h("div"),p=_();if(parseInt(r,10))for(;r--;)a=h("div"),a.id=o?o[r]:d+(r+1),l.appendChild(a);return n=h("style"),n.type="text/css",n.id="s"+d,(p.fake?p:l).appendChild(n),p.appendChild(l),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),l.id=d,p.fake&&(p.style.background="",p.style.overflow="hidden",c=x.style.overflow,x.style.overflow="hidden",x.appendChild(p)),s=i(l,e),p.fake?(p.parentNode.removeChild(p),x.style.overflow=c,x.offsetHeight):l.parentNode.removeChild(l),!!s}function u(t,r){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(a(t[o]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var n=[];o--;)n.push("("+a(t[o])+":"+r+")");return n=n.join(" or "),p("@supports ("+n+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return i}function g(e,t,o,n){function a(){l&&(delete H.style,delete H.modElem)}if(n=!r(n,"undefined")&&n,!r(o,"undefined")){var d=u(e,o);if(!r(d,"undefined"))return d}for(var l,_,p,g,v,f=["modernizr","tspan"];!H.style;)l=!0,H.modElem=h(f.shift()),H.style=H.modElem.style;for(p=e.length,_=0;p>_;_++)if(g=e[_],v=H.style[g],c(g,"-")&&(g=s(g)),H.style[g]!==i){if(n||r(o,"undefined"))return a(),"pfx"!=t||g;try{H.style[g]=o}catch(e){}if(H.style[g]!=v)return a(),"pfx"!=t||g}return a(),!1}function v(e,t,i,o,n){var s=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+O.join(s+" ")+s).split(" ");return r(t,"string")||r(t,"undefined")?g(a,t,o,n):(a=(e+" "+S.join(s+" ")+s).split(" "),l(a,t,i))}function f(e,t,r){return v(e,i,i,t,r)}var m=[],b=[],y={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){b.push({name:e,fn:t,options:i})},addAsyncTest:function(e){b.push({name:null,fn:e})}},w=function(){};w.prototype=y,w=new w,w.addTest("webworkers","Worker"in e);var x=t.documentElement,C="svg"===x.nodeName.toLowerCase(),$="Moz O ms Webkit",S=y._config.usePrefixes?$.toLowerCase().split(" "):[];y._domPrefixes=S;var U=function(e,t){var i=!1,r=h("div"),o=r.style;if(e in o){var n=S.length;for(o[e]=t,i=o[e];n--&&!i;)o[e]="-"+S[n]+"-"+t,i=o[e]}return""===i&&(i=!1),i};y.prefixedCSSValue=U;var P=y._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];y._prefixes=P,w.addTest("cssgradients",function(){for(var e,t="background-image:",i="gradient(linear,left top,right bottom,from(#9f9),to(white));",r="",o=0,n=P.length-1;n>o;o++)e=0===o?"to ":"",r+=t+P[o]+"linear-gradient("+e+"left top, #9f9, white);";w._config.usePrefixes&&(r+=t+"-webkit-"+i);var s=h("a"),a=s.style;return a.cssText=r,(""+a.backgroundImage).indexOf("gradient")>-1});var k="CSS"in e&&"supports"in e.CSS,A="supportsCSS"in e;w.addTest("supports",k||A);var O=y._config.usePrefixes?$.split(" "):[];y._cssomPrefixes=O;var I=function(t){var r,o=P.length,n=e.CSSRule;if("undefined"==typeof n)return i;if(!t)return!1;if(t=t.replace(/^@/,""),r=t.replace(/-/g,"_").toUpperCase()+"_RULE",r in n)return"@"+t;for(var s=0;o>s;s++){var a=P[s],h=a.toUpperCase()+"_"+r;if(h in n)return"@-"+a.toLowerCase()+"-"+t}return!1};y.atRule=I;var M={elem:h("modernizr")};w._q.push(function(){delete M.elem});var H={style:M.elem.style};w._q.unshift(function(){delete H.style});var z=y.testStyles=p;y.testProp=function(e,t,r){return g([e],i,t,r)},y.testAllProps=v;var E=y.prefixed=function(e,t,i){return 0===e.indexOf("@")?I(e):(-1!=e.indexOf("-")&&(e=s(e)),t?v(e,t,i):v(e,"pfx"))};y.prefixedCSS=function(e){var t=E(e);return t&&a(t)},w.addTest("fullscreen",!(!E("exitFullscreen",t,!1)&&!E("cancelFullScreen",t,!1))),y.testAllProps=f,w.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&f("transform","scale(1)",!0)}),w.addTest("csstransforms3d",function(){var e=!!f("perspective","1px",!0),t=w._config.usePrefixes;if(e&&(!t||"webkitPerspective"in x.style)){var i,r="#modernizr{width:0;height:0}";w.supports?i="@supports (perspective: 1px)":(i="@media (transform-3d)",t&&(i+=",(-webkit-transform-3d)")),i+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",z(r+i,function(t){e=7===t.offsetWidth&&18===t.offsetHeight})}return e}),w.addTest("csstransitions",f("transition","all",!0)),w.addTest("cssfilters",function(){if(w.supports)return f("filter","blur(2px)");var e=h("a");return e.style.cssText=P.join("filter:blur(2px); "),!!e.style.length&&(t.documentMode===i||t.documentMode>9)}),o(),n(m),delete y.addTest,delete y.addAsyncTest;for(var F=0;F<w._q.length;F++)w._q[F]();
e.Modernizr=w}(window,document),e}(),t.html5.html=function(){var e={};e._get=function(t){return e[t]},e.createAddRule=function(e){if((e.sheet||{}).insertRule){var t=e.sheet;return function(e,i){t.insertRule(e+"{"+i+"}",t.cssRules.length)}}var t=e.styleSheet||e.sheet;return function(e,i){t.addRule(e,i)}};var i=function(t){var i=document.createElement("style");i.type="text/css",document.head.appendChild(i),this.prefix=t+"C-",this.style=i,this.total=0,this.stats={},this.classes={},this.classes_total=0,this._addRule=e.createAddRule(i)},r=i.prototype;r.constructor=i,r.add=function(e){this.stats[e]=(this.stats[e]||0)+1,++this.total},r.register=function(e){var t=e.join(";"),i=this.classes,r=i[t];if(void 0!==r)return r;var r=i[t]=this.prefix+this.classes_total++;return this._addRule("."+r,t),r},r.classify=function(e){var t=this.total;if(t<10)return"";e.sort();var i=[],r=[],o=this.stats;return e.forEach(function(e,n){var s=o[e],a=s/t;a>.05&&(i.push(e),r.push(n))}),r.length<2?"":(r.forEach(function(t,i){e.splice(t-i,1)}),this.register(i))};var o={};navigator.userAgent.toLowerCase().indexOf("webkit")>=0&&(o.appearance="-webkit-appearance");var n=function(e){var t=o[e];return void 0===t&&(o[e]=t=window.Modernizr.prefixedCSS(e)),t};e.getPrefixedName=n;var s=function(e){var t="_domEventHandler_";e.onListener("",function(i){var r=t+i,o=e[r]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;++o)r[o]=arguments[o];e.emitWithArgs(i,r)};e.dom.addEventListener(i,o)},function(i){var r=t+i;e.dom.removeEventListener(i,e[r])})},a={};e.loadExternalStylesheet=function(e){if(!a[e]){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.head.appendChild(t),a[e]=!0}},e.autoClassify=!1,e.Element=function(r,o){"string"==typeof o?this.dom=document.createElement(o):this.dom=o,e.autoClassify?r._styleCache||(r._styleCache=new i(r._prefix)):r._styleCache=null,t.core.RAIIEventEmitter.apply(this),this._context=r,this._fragment=[],this._styles={},this._class="",s(this)};var h=e.Element.prototype=Object.create(t.core.RAIIEventEmitter.prototype);h.constructor=e.Element,h.addClass=function(e){this.dom.classList.add(e)},h.setHtml=function(e){var t=this.dom;if(this._fragment.forEach(function(e){t.removeChild(e)}),this._fragment=[],""!==e){var i=document.createDocumentFragment(),r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)this._fragment.push(r.firstChild),i.appendChild(r.firstChild);return t.appendChild(i),t.children}},h.width=function(){return this.dom.clientWidth},h.height=function(){return this.dom.clientHeight},h.fullWidth=function(){return this.dom.scrollWidth},h.fullHeight=function(){return this.dom.scrollHeight},h.style=function(e,t){if(void 0!==t)""!==t?this._styles[e]=t:delete this._styles[e],this.updateStyle();else{if(!(e instanceof Object))return this._styles[e];for(var i in e){var r=e[i];""!==r?this._styles[i]=r:delete this._styles[i]}this.updateStyle()}},h.setAttribute=function(e,t){this.dom.setAttribute(e,t)},h.updateStyle=function(){var e=this.dom;if(e){var t={left:"px",top:"px",width:"px",height:"px","border-radius":"px","border-width":"px","margin-left":"px","margin-top":"px","margin-right":"px","margin-bottom":"px","padding-left":"px","padding-top":"px","padding-right":"px","padding-bottom":"px"},i=this._context._styleCache,r=[];for(var o in this._styles){var s=this._styles[o],a=n(o),h=a!==!1?a:o;Array.isArray(s)&&(s=s.join(","));var c="number"==typeof s?t[o]||"":"";s+=c;var d=h+":"+s;i&&i.add(d),r.push(d)}var l=i?i.classify(r):"";if(l!==this._class){var _=e.classList;""!==this._class&&_.remove(this._class),this._class=l,""!==l&&_.add(l)}this.dom.setAttribute("style",r.join(";"))}},h.append=function(t){this.dom.appendChild(t instanceof e.Element?t.dom:t)},h.discard=function(){t.core.RAIIEventEmitter.prototype.discard.apply(this),this.remove()},h.remove=function(){var e=this.dom;e.parentNode.removeChild(e)},e.Window=function(e,i){t.core.RAIIEventEmitter.apply(this),this._context=e,this.dom=i,s(this)};var c=e.Window.prototype=Object.create(t.core.RAIIEventEmitter.prototype);c.constructor=e.Window,c.width=function(){return this.dom.innerWidth},c.height=function(){return this.dom.innerHeight},c.scrollY=function(){return this.dom.scrollY},e.getElement=function(t){var i=document.getElementsByTagName(t);if(1!=i.length)throw new Error("no tag "+t+"/multiple tags");return new e.Element(this,i[0])},e.init=function(i){var r=i.options,o=i._prefix,n=r.id;o&&(o+="-",log("Context: using prefix",o));var s=new t.html5.html.Window(this,window);i.window=s;var a,h,c=e,d=document.getElementById(n),l=null===d;if(l){a=s.width(),h=s.height(),log("Context: window size: "+a+"x"+h),d=i.createElement("div"),d.dom.id=n,s.on("resize",function(){i.width=s.width(),i.height=s.height()});var _=c.getElement("body");_.append(d)}else d=new c.Element(this,d),a=d.width(),h=d.height(),log("Context: found element by id, size: "+a+"x"+h),s.on("resize",function(){i.width=d.width(),i.height=d.height()});i.element=d,i.width=a,i.height=h,i.style("visibility","hidden"),s.on("scroll",function(e){i.scrollY=s.scrollY()}),s.on("load",function(){i._run()});var p=function(e){var t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;i.fullscreen=t};"webkitfullscreenchange mozfullscreenchange fullscreenchange".split(" ").forEach(function(e){d.on(e,p)}),s.on("keydown",function(e){i._processKey(e)&&e.preventDefault()});var u=i.system;window.onfocus=function(){u.pageActive=!0},window.onblur=function(){u.pageActive=!1},i.screenWidth=window.screen.width,i.screenHeight=window.screen.height},e.createElement=function(t,i){return new e.Element(t,i)},e.initImage=function(e){var t=new Image;e._image=t,e._image.onerror=e._onError.bind(e),e._image.onload=function(){var i=t.naturalWidth,r=t.naturalHeight;e.paintedWidth=t.naturalWidth,e.paintedHeight=t.naturalHeight;var o={"background-image":"url("+e.source+")"};switch(e.fillMode){case e.Stretch:o["background-repeat"]="no-repeat",o["background-size"]="100% 100%";break;case e.TileVertically:o["background-repeat"]="repeat-y",o["background-size"]="100%";break;case e.TileHorizontally:o["background-repeat"]="repeat-x",o["background-size"]=i+"px 100%";break;case e.Tile:o["background-repeat"]="repeat-y repeat-x",o["background-size"]="auto";break;case e.PreserveAspectCrop:o["background-repeat"]="no-repeat",o["background-position"]="center",o["background-size"]="cover";break;case e.Pad:o["background-repeat"]="no-repeat",o["background-position"]="0% 0%",o["background-size"]="auto";break;case e.PreserveAspectFit:o["background-repeat"]="no-repeat",o["background-position"]="center",o["background-size"]="contain";var n=e.width,s=e.height,a=0,h=i/r;n&&s&&(a=n/s),h>a&&n?(e.paintedWidth=n,e.paintedHeight=n/h):(e.paintedHeight=s,e.paintedWidth=s*h)}e.style(o),e.width||(e.width=e.paintedWidth),e.height||(e.height=e.paintedHeight),e.status=e.Ready}},e.loadImage=function(e){e._image.src=e.source},e.initText=function(e){e.element.addClass(e._context.getClass("text"))},e.layoutText=function(e){var t=e.wrapMode!=Text.NoWrap;t?e.style({height:"auto","padding-top":0}):e.style({width:"auto",height:"auto","padding-top":0}),e.paintedWidth=e.element.fullWidth(),e.paintedHeight=e.element.fullHeight();var i;switch(i=t?{height:e.height}:{width:e.width,height:e.height},e.verticalAlignment){case e.AlignTop:e._topPadding=0;break;case e.AlignBottom:e._topPadding=e.height-e.paintedHeight;break;case e.AlignVCenter:e._topPadding=(e.height-e.paintedHeight)/2}i["padding-top"]=e._topPadding,i.height=e.height-e._topPadding,e.style(i)},e.run=function(){};var d=window.Modernizr;return e.capabilities={csstransforms3d:d.csstransforms3d,csstransforms:d.csstransforms,csstransitions:d.csstransitions},e.requestAnimationFrame=d.prefixed("requestAnimationFrame",window)||function(e){return setTimeout(e,0)},e.cancelAnimationFrame=d.prefixed("cancelAnimationFrame",window)||function(e){return clearTimeout(e)},e.enterFullscreenMode=function(e){return d.prefixed("requestFullscreen",e.dom)()},e.exitFullscreenMode=function(){return window.Modernizr.prefixed("exitFullscreen",document)()},e.inFullscreenMode=function(){return!!window.Modernizr.prefixed("fullscreenElement",document)},e}(),e}();try{var l10n={},context=qml._context=new qml.core.Context(null,!1,{id:"qml-context-index",prefix:"qml",l10n:l10n}),closure={};context.__create(closure),context.__setup(closure),closure=void 0,context.init(),context.start(new qml.spritest.UiIndex(context)),context.run()}catch(e){log("qml initialization failed: ",e,e.stack)}
